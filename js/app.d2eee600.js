(function(e){function t(t){for(var n,s,o=t[0],r=t[1],l=t[2],u=0,b=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&b.push(i[s][0]),i[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);d&&d(t);while(b.length)b.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,o=1;o<a.length;o++){var r=a[o];0!==i[r]&&(n=!1)}n&&(c.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},i={app:0},c=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=r;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1a36":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("830f"),i=a("130e"),c=a("f9d5"),s=a.n(c),o=a("1da1"),r=(a("96cf"),a("b0c0"),a("5502")),l=a("bc3a"),d=a.n(l),u=Object({NODE_ENV:"production",BASE_URL:"/"}).API_URL||"https://api-scholarship.limu.edu.ly/api",b=d.a.create({baseURL:u,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("IS-token"))}}),p=Object(r["a"])({state:{user:null,authenticated:!1,emailVerified:!1,token:localStorage.getItem("IS-token")||null,role:localStorage.getItem("role")||null,config:{headers:{Authorization:"Bearer ".concat(localStorage.getItem("IS-token"))}}},mutations:{setAuthenticated:function(e,t){e.user=t,e.authenticated=!0,e.role=t.roles,localStorage.setItem("role",t.roles),Object.prototype.hasOwnProperty.call(t,"token")&&(localStorage.setItem("IS-token",t.token),e.config.headers.Authorization="Bearer ".concat(localStorage.getItem("IS-token")),e.token="Bearer ".concat(t.token))},setUnauthenticated:function(e){e.user=null,e.authenticated=!1,e.emailVerified=!1,e.role=null,e.config.headers.Authorization=null,e.token=null,localStorage.removeItem("IS-token"),localStorage.removeItem("role")}},actions:{logout:function(e){var t=e.commit;t("setUnauthenticated")},restoreSession:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.state,n=e.commit,"admin"!==a.role){t.next=6;break}return t.next=4,b.get("adminboard/userinfo",a.config).then((function(e){var t=e.data.data,a={id:t.id,name:t.name,email:t.email,roles:t.roles.data[0].name};n("setAuthenticated",a)})).catch((function(){n("setUnauthenticated")}));case 4:t.next=13;break;case 6:if("User"!==a.role){t.next=11;break}return t.next=9,b.get("applicantboard/userinfo",a.config).then((function(e){var t=e.data.data,i={id:t.id,first_name:t.first_name,middle_name:t.middle_name,last_name:t.last_name,email:t.email,roles:t.roles.data[0].name,phone_code:t.phone_code,phone_number:t.phone_number,email_verified:t.email_verified_at,country:t.country,application:Object.prototype.hasOwnProperty.call(t,"application")?t.application:null};null!==i.email_verified&&(a.emailVerified=!0),n("setAuthenticated",i)})).catch((function(){n("setUnauthenticated")}));case 9:t.next=13;break;case 11:return t.next=13,b.get("committeeboard/userinfo",a.config).then((function(e){var t=e.data.data,a={id:t.id,name:t.name,email:t.email,roles:t.roles.data[0].name};n("setAuthenticated",a)})).catch((function(){n("setUnauthenticated")}));case 13:case"end":return t.stop()}}),t)})))()}},modules:{},getters:{configGetter:function(e){return e.config}}}),m=a("5c40");function O(e,t,a,n,i,c){var s=Object(m["E"])("router-view");return Object(m["B"])(),Object(m["f"])(s)}var j={name:"App",components:{}},g=a("6b0d"),f=a.n(g);const h=f()(j,[["render",O]]);var v=h,y=a("6c02"),w=a("9ff4"),x=a("901b"),_=a.n(x),k={class:"row my-5 rounded border m-5 shadow"},L={class:"col blue_gradient fw-bold"},S=Object(m["i"])("div",{class:"py-5 text-white text-center"},[Object(m["i"])("h4",{class:"fw-bold"},"Apply for the Scholarship")],-1),C={class:"text-white"},F={class:"bg-white col d-grid justify-content-center p-4"},R=Object(m["i"])("img",{src:_.a,class:"rounded mx-auto d-block img-fluid img-thumbnail mb-3",alt:"image"},null,-1),B=Object(m["i"])("div",{class:"text-center fw-bold mb-3"},[Object(m["i"])("h4",{class:"fw-bold"},"Login")],-1),A={class:"px-5"},E={class:"mb-3"},M=Object(m["i"])("label",{class:"form-label small"},"Email address",-1),T={class:"mb-3"},D=Object(m["i"])("label",{class:"form-label small"},"Password",-1),N={class:"text-center"},U=["disabled"],P={key:0,class:"spinner-border text-primary m-1",role:"status"},I=Object(m["i"])("span",{class:"visually-hidden"},null,-1),V=[I];function Y(e,t,a,i,c,s){var o=Object(m["E"])("vee-field"),r=Object(m["E"])("error-message"),l=Object(m["E"])("vee-form");return Object(m["B"])(),Object(m["h"])("div",k,[Object(m["i"])("div",L,[S,Object(m["i"])("div",C,[Object(m["i"])("p",null,Object(w["L"])(c.content.overview),1)])]),Object(m["i"])("div",F,[R,B,Object(m["n"])(l,{"validation-schema":c.loginSchema,onSubmit:s.login},{default:Object(m["N"])((function(){return[Object(m["i"])("div",A,[Object(m["i"])("div",E,[M,Object(m["n"])(o,{type:"email",name:"email",class:"form-control",required:""}),Object(m["n"])(r,{class:"fw-bold small text-danger text-lowercase",name:"email"})]),Object(m["i"])("div",T,[D,Object(m["n"])(o,{type:"password",name:"password",class:"form-control",required:""}),Object(m["n"])(r,{class:"fw-bold small text-danger text-lowercase",name:"password"})]),Object(m["i"])("div",N,[Object(m["i"])("button",{disabled:c.loginLoading,class:"btn btn-primary text-center col-md-6 mt-3"}," Login ",8,U),c.loginLoading?(Object(m["B"])(),Object(m["h"])("div",P,V)):Object(m["g"])("",!0)]),Object(m["O"])(Object(m["i"])("div",{class:Object(w["I"])(["mt-3 p-2 text-center",c.loginMessageClass])},Object(w["L"])(c.loginMessage),3),[[n["b"],""!==c.loginMessage]])])]})),_:1},8,["validation-schema","onSubmit"])])])}var q={overview:"The Libyan international Medical University (LIMU) is a pioneer in medical education and offers its students a wide diverse of degree opportunities. It adopts a variety of interactive educational methods such as the problem-based learning and team-based learning methods, in addition to complementary courses which contribute to preparing competent graduates that are able to enter directly into the job market without the need for post-graduation training periods. Hence, as part of the social responsibility of LIMU offers a fully funded scholarship to a specific number of students every year.",benefits:["The scholarship will cover the full tuition fees for 2 students.","Accommodation, and an enough amount of pocket money are only offered (in Libyan Dinars) to the international students Only if they live away from their family.","Students can choose to study at any of the degrees offered by all faculties except for Dentistry due to very limited spaces."],criteria:["Citizens from Libya and Middle East North African (MENA) and African countries can apply","Applicants should be below the age of 25 at the time of the application process","High educational achievements","Demonstrate good English command","Community service volunteering background","Low family financial income","Submit the application before the deadline","Fulfil the requirements of the program intended to join"]};a("99af"),a("ac1f"),a("1276");function G(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var i="expires=".concat(n.toUTCString());document.cookie="".concat(e,"=").concat(t,";").concat(i,";path=/")}var W={name:"Login",data:function(){return{content:q,loginSchema:{email:"required|email|min:8|max:50",password:"required|min:8|max:100"},loginLoading:!1,loginMessage:"",loginMessageClass:"alert alert-success"}},methods:{login:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loginLoading=!0,e.rememberMe&&(G("userEmail",e.email,365),G("userPassword",e.password,365)),n={email:e.email,password:e.password},a.next=5,b.post("authboard/login",n).then((function(e){var a=e.data.data,n=a.roles.data[0].name;if("admin"===n){var i={id:a.id,name:a.name,email:a.email,roles:a.roles.data[0].name,token:a.token};t.loginLoading=!1,t.loginMessage="Successfully Logged in",t.loginMessageClass="alert alert-success",p.commit("setAuthenticated",i),t.$router.push("dashboard")}else if("User"===n){var c={id:a.id,first_name:a.first_name,middle_name:a.middle_name,last_name:a.last_name,email:a.email,email_verified:a.email_verified_at,phone_code:a.phone_code,phone_number:a.phone_number,roles:a.roles.data[0].name,country:a.country,token:a.token,application:Object.prototype.hasOwnProperty.call(a,"application")?a.application:null};null!==c.email_verified&&(p.state.emailVerified=!0),t.loginLoading=!1,t.loginMessage="Sorry application submission period is closed",t.loginMessageClass="alert alert-danger"}else{var s={id:a.id,name:a.name,email:a.email,roles:a.roles.data[0].name,token:a.token};t.loginLoading=!1,t.loginMessage="Successfully Logged in",t.loginMessageClass="alert alert-success",p.commit("setAuthenticated",s),t.$router.push("dashboard")}})).catch((function(){t.loginLoading=!1,t.loginMessage="An error have occurred, try again",t.loginMessageClass="alert alert-danger"}));case 5:case"end":return a.stop()}}),a)})))()}},beforeRouteEnter:function(e,t,a){p.state.authenticated?a({name:"dashboard"}):a()}};const z=f()(W,[["render",Y]]);var $=z,H={class:"card-body border rounded rounded bg-white mb-5 mt-5 w-75 mx-auto"},J={class:"nav nav-tabs"},K={class:"nav-item"},Q={class:"nav-item"},X={class:"nav-item"},Z={class:"nav-item"},ee={key:0},te={key:1,class:"d-flex justify-content-center mt-5"},ae=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),ne=[ae];function ie(e,t,a,i,c,s){var o=Object(m["E"])("navbar"),r=Object(m["E"])("step-one"),l=Object(m["E"])("step-two"),d=Object(m["E"])("step-three"),u=Object(m["E"])("step-four");return Object(m["B"])(),Object(m["h"])(m["b"],null,[Object(m["n"])(o),Object(m["i"])("section",null,[Object(m["i"])("div",H,[Object(m["i"])("ul",J,[Object(m["i"])("li",K,[Object(m["i"])("a",{class:Object(w["I"])(["nav-link btn btn-outline-primary",[s.stepOneFlag?"active":"",c.applicationSubmitted?"disabled":""]]),onClick:t[0]||(t[0]=Object(n["c"])((function(e){return c.stepsDone=0}),["prevent"])),role:"button"},"1.Faculty",2)]),Object(m["i"])("li",Q,[Object(m["i"])("a",{class:Object(w["I"])(["nav-link",[s.stepTwoFlag?"active":"",c.applicationSubmitted?"disabled":""]]),role:"button",onClick:t[1]||(t[1]=Object(n["c"])((function(e){return c.stepsDone=1}),["prevent"]))},"2.Files",2)]),Object(m["i"])("li",X,[Object(m["i"])("a",{class:Object(w["I"])(["nav-link",[s.stepThreeFlag?"active":"",c.applicationSubmitted?"disabled":""]]),role:"button",onClick:t[2]||(t[2]=Object(n["c"])((function(e){return c.stepsDone=2}),["prevent"])),tabindex:"-1","aria-disabled":"true"}," 3.Essay ",2)]),Object(m["i"])("li",Z,[Object(m["i"])("a",{class:Object(w["I"])(["nav-link",s.stepFourFlag?"active":""]),role:"button",onClick:t[3]||(t[3]=Object(n["c"])((function(e){return c.stepsDone=3}),["prevent"])),tabindex:"-1","aria-disabled":"true"}," 4.Submit Application ",2)])]),c.finishedLoading?(Object(m["B"])(),Object(m["h"])("div",ee,[(Object(m["B"])(),Object(m["f"])(m["c"],null,[s.stepOneFlag?(Object(m["B"])(),Object(m["f"])(r,{key:0,userApplication:c.userApplication,axiosConfig:e.configGetter,onStepUpToggle:s.stepUpToggle},null,8,["userApplication","axiosConfig","onStepUpToggle"])):Object(m["g"])("",!0)],1024)),(Object(m["B"])(),Object(m["f"])(m["c"],null,[s.stepTwoFlag?(Object(m["B"])(),Object(m["f"])(l,{key:0,userApplication:c.userApplication,axiosConfig:e.configGetter,onStepDownToggle:s.stepDownToggle,onStepUpToggle:s.stepUpToggle},null,8,["userApplication","axiosConfig","onStepDownToggle","onStepUpToggle"])):Object(m["g"])("",!0)],1024)),(Object(m["B"])(),Object(m["f"])(m["c"],null,[s.stepThreeFlag?(Object(m["B"])(),Object(m["f"])(d,{key:0,userApplication:c.userApplication,axiosConfig:e.configGetter,onStepDownToggle:s.stepDownToggle,onStepUpToggle:s.stepUpToggle},null,8,["userApplication","axiosConfig","onStepDownToggle","onStepUpToggle"])):Object(m["g"])("",!0)],1024)),s.stepFourFlag?(Object(m["B"])(),Object(m["f"])(u,{key:0,userApplication:c.userApplication,axiosConfig:e.configGetter,onStepDownToggle:s.stepDownToggle,onStepUpToggle:s.stepUpToggle,onSubmitApplication:s.submitApplication},null,8,["userApplication","axiosConfig","onStepDownToggle","onStepUpToggle","onSubmitApplication"])):Object(m["g"])("",!0)])):(Object(m["B"])(),Object(m["h"])("div",te,ne))])])],64)}var ce=a("5530"),se=a("fd33"),oe=a.n(se),re={class:"navbar navbar-expand-lg navbar-light nav_blue_gradient p-3"},le={class:"container"},de=Object(m["i"])("a",{class:"navbar-brand text-white"},[Object(m["i"])("img",{src:oe.a,alt:"",width:"60",height:"34",class:"img-thumbnail"}),Object(m["m"])(" LIMU Scholarship ")],-1),ue=Object(m["i"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(m["i"])("span",{class:"navbar-toggler-icon"})],-1),be={class:"collapse navbar-collapse",id:"navbarSupportedContent"},pe={class:"navbar-nav me-auto mb-2 mb-lg-0"},me={class:"nav-item dropdown"},Oe=Object(m["m"])("Dashboard"),je={class:"navbar-nav ms-auto mb-2 mb-lg-0"},ge={class:"nav-item dropdown"},fe={class:"nav-link dropdown-toggle text-white small",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},he={class:"dropdown-menu"};function ve(e,t,a,i,c,s){var o=Object(m["E"])("router-link");return Object(m["B"])(),Object(m["h"])("nav",re,[Object(m["i"])("div",le,[de,ue,Object(m["i"])("div",be,[Object(m["i"])("ul",pe,[Object(m["i"])("li",me,[Object(m["n"])(o,{to:"dashboard",class:"nav-link text-white"},{default:Object(m["N"])((function(){return[Oe]})),_:1})])]),Object(m["i"])("ul",je,[Object(m["i"])("li",ge,[Object(m["i"])("a",fe,Object(w["L"])("".concat(c.user.first_name," ").concat(c.user.last_name)),1),Object(m["i"])("ul",he,[Object(m["i"])("li",null,[Object(m["i"])("a",{class:"dropdown-item btn",onClick:t[0]||(t[0]=Object(n["c"])((function(){return s.logout&&s.logout.apply(s,arguments)}),["prevent"]))},"Logout")])])])])])])])}var ye={name:"Navbar",data:function(){return{user:p.state.user}},computed:Object(ce["a"])({},Object(r["b"])(["configGetter"])),methods:{logout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("authboard/logout",e.configGetter).then((function(e){console.log(e),p.dispatch("logout").then((function(){return Zb.push({name:"login"})}))})).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})))()}}};const we=f()(ye,[["render",ve]]);var xe=we,_e={class:"border rounded m-3"},ke={class:"mt-2 p-2"},Le=Object(m["i"])("div",{class:"text-center"},[Object(m["i"])("h4",null,"Choose Faculty")],-1),Se=Object(m["i"])("label",{class:"form-label"}," Choose Faculty you wish to enroll ",-1),Ce=["value"],Fe=Object(m["i"])("div",{id:"selectHelpBlock",class:"form-text"}," You are required to apply for at least one faculty and a maximum of 3 faculties, the first faculty will be considered your top priority. ",-1),Re={class:"text-center"},Be=["disabled"],Ae=Object(m["m"])(" Assign Faculty "),Ee=Object(m["i"])("i",{class:"fas fa-upload"},null,-1),Me=[Ae,Ee],Te={key:0,class:"m-2 mt-4 border rounded p-2 bg-light"},De=Object(m["i"])("h5",null,"Faculties you picked",-1),Ne={class:"list-group"},Ue={class:"row"},Pe={class:"col"},Ie={class:"fw-bold"},Ve={class:"col text-end"},Ye=["disabled","onClick"],qe={key:1,class:"alert alert-warning border text-center mt-3"},Ge={class:"text-center mt-3"},We=Object(m["i"])("hr",{class:"m-2"},null,-1),ze={class:"m-3 text-end"},$e=Object(m["m"])("Save and continue "),He=Object(m["i"])("i",{class:"fas fa-arrow-circle-right"},null,-1),Je=[$e,He],Ke=Object(m["i"])("div",{id:"stepOneSubmit",class:"form-text"}," You can navigate through the steps from the tabs above ",-1);function Qe(e,t,a,i,c,s){var o=Object(m["E"])("vee-field"),r=Object(m["E"])("vee-form");return Object(m["B"])(),Object(m["h"])("div",_e,[Object(m["n"])(r,{"validation-schema":c.stepOneSchema,onSubmit:s.registerFaculty,"initial-values":c.initialValues},{default:Object(m["N"])((function(){return[Object(m["i"])("div",ke,[Le,Se,Object(m["n"])(o,{as:"select",name:"faculty_id",disabled:!c.facultiesLoading,class:"form-select","aria-describedby":"selectHelpBlock"},{default:Object(m["N"])((function(){return[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.faculties,(function(e){return Object(m["B"])(),Object(m["h"])("option",{key:e.id,value:e.id},Object(w["L"])(e.name),9,Ce)})),128))]})),_:1},8,["disabled"]),Fe,Object(m["i"])("div",Re,[Object(m["i"])("button",{disabled:c.assignFacultyLoading,class:"btn btn-primary col-md-2 mt-3"},Me,8,Be)]),Object(m["O"])(Object(m["i"])("div",{class:"alert alert-danger m-2"},Object(w["L"])(c.assignMessageError),513),[[n["b"],""!==c.assignMessageError]]),s.hasAssignedFaculties?(Object(m["B"])(),Object(m["h"])("div",Te,[De,Object(m["i"])("ul",Ne,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.assignedFaculties,(function(e){return Object(m["B"])(),Object(m["h"])("li",{key:e.id,class:"list-group-item"},[Object(m["i"])("div",Ue,[Object(m["i"])("div",Pe,[Object(m["i"])("span",Ie,Object(w["L"])("".concat(e.priority,". ")),1),Object(m["m"])(" "+Object(w["L"])(e.faculty.data.name),1)]),Object(m["i"])("div",Ve,[Object(m["i"])("button",{disabled:c.deleteFacultyLoading,onClick:Object(n["c"])((function(t){return s.deleteFaculty(e)}),["prevent"]),class:"btn-sm btn btn-danger"}," Remove ",8,Ye)])])])})),128))])])):(Object(m["B"])(),Object(m["h"])("div",qe," You haven't picked any faculties yet ")),Object(m["i"])("div",Ge,[Object(m["O"])(Object(m["i"])("div",{class:"alert alert-danger text-center"},Object(w["L"])(c.errorMessage),513),[[n["b"],""!==c.errorMessage]])])])]})),_:1},8,["validation-schema","onSubmit","initial-values"]),We,Object(m["i"])("div",ze,[Object(m["i"])("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=Object(n["c"])((function(){return s.stepUpToggle&&s.stepUpToggle.apply(s,arguments)}),["prevent"])),"aria-describedby":"stepOneSubmit"},Je),Ke])])}var Xe={name:"FormStepOne",props:{userApplication:Object,axiosConfig:Object},data:function(){return{application:p.state.user.application.data,deleteFacultyLoading:!1,errorMessage:"",assignMessageError:"",assignedFaculties:[],assignFacultyLoading:!1,facultiesLoading:!1,faculties:null,stepOneSchema:{faculty_id:"required"},initialValues:{faculty_id:1}}},computed:{hasAssignedFaculties:function(){return this.assignedFaculties.length>0},priority:function(){return this.assignedFaculties.length<3?this.assignedFaculties.length+1:this.assignedFaculties.length}},methods:{deleteFaculty:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.deleteFacultyLoading=!0,a.next=3,b.delete("applicantboard/applications/".concat(t.application.id,"/faculty_priority/").concat(e.id),t.axiosConfig).then((function(e){t.fetchApplication(),t.deleteFacultyLoading=!1,console.log(e)})).catch((function(e){t.deleteFacultyLoading=!1,console.log(e)}));case 3:case"end":return a.stop()}}),a)})))()},stepUpToggle:function(){this.$emit("stepUpToggle")},fetchFaculties:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("applicantboard/faculties",e.axiosConfig).then((function(t){e.faculties=t.data.data,e.facultiesLoading=!0})).catch((function(e){console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})))()},registerFaculty:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.assignMessageError="",t.assignFacultyLoading=!0,n={faculty_id:e.faculty_id,priority:t.priority},a.next=5,b.post("applicantboard/applications/".concat(t.application.id,"/faculty_priority"),n,t.axiosConfig).then((function(e){t.fetchApplication(),t.assignFacultyLoading=!1,console.log(e)})).catch((function(e){console.log(e.response),t.assignFacultyLoading=!1,t.assignMessageError="Sorry, something wrong happened"}));case 5:case"end":return a.stop()}}),a)})))()},submitStepOne:function(){console.log("step one submitted")},fetchApplication:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("applicantboard/applications",e.axiosConfig).then((function(t){console.log(t.data.data.applicationFaculties.data),e.assignedFaculties=t.data.data.applicationFaculties.data})).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFaculties();case 2:return t.next=4,e.fetchApplication();case 4:case"end":return t.stop()}}),t)})))()}};const Ze=f()(Xe,[["render",Qe]]);var et=Ze,tt={class:"border rounded m-3"},at={class:"mt-2 p-2"},nt=Object(m["i"])("div",{class:"text-center"},[Object(m["i"])("h4",null,"Upload Files")],-1),it=Object(m["i"])("label",{for:"file_type_id"},"Choose File to Upload",-1),ct=["value"],st=Object(m["i"])("div",null,[Object(m["i"])("small",{class:"ms-2 small"},"Only PDF format is allowed")],-1),ot={class:"text-center"},rt=["disabled"],lt=Object(m["m"])(" Upload File "),dt=Object(m["i"])("i",{class:"fas fa-upload"},null,-1),ut=[lt,dt],bt={class:"spinner-border text-primary",role:"status"},pt=Object(m["i"])("span",{class:"visually-hidden"},"Loading...",-1),mt=[pt],Ot={key:0,class:"form-control bg-light mt-3"},jt={class:"list-group"},gt={class:"row"},ft={class:"col"},ht={class:"col text-end"},vt=["onClick","disabled"],yt={key:1,class:"alert alert-warning text-center mt-3"},wt=Object(m["i"])("hr",{class:"m-2"},null,-1),xt={class:"m-3"},_t={class:"text-end m-3"},kt=Object(m["m"])(" Save and Continue "),Lt=Object(m["i"])("i",{class:"fas fa-arrow-circle-right"},null,-1),St=[kt,Lt],Ct=Object(m["i"])("div",{id:"stepOneSubmit",class:"form-text"}," You can navigate through the steps from the tabs above ",-1);function Ft(e,t,a,i,c,s){var o=Object(m["E"])("vee-field"),r=Object(m["E"])("error-message"),l=Object(m["E"])("vee-form");return Object(m["B"])(),Object(m["h"])("div",tt,[Object(m["i"])("div",at,[nt,Object(m["n"])(l,{onSubmit:s.uploadFile,enctype:"multipart/form-data","initial-values":{file_type_id:1}},{default:Object(m["N"])((function(){return[it,Object(m["n"])(o,{as:"select",class:"form-select",name:"file_type_id",onChange:s.currentIndex},{default:Object(m["N"])((function(){return[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.file_types,(function(e){return Object(m["B"])(),Object(m["h"])("option",{value:e.id,key:e.id},Object(w["L"])("".concat(e.name))+" :: "+Object(w["L"])(e.required?"Required":"Optional"),9,ct)})),128))]})),_:1},8,["onChange"]),st,Object(m["n"])(o,{id:"file",modelValue:c.file,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.file=e}),rules:s.fileWithNoteFlag?{size:2e3,mimes:"pdf"}:{size:2e3,mimes:"pdf",required:!0},name:"file",type:"file",class:"form-control mt-3"},null,8,["modelValue","rules"]),Object(m["n"])(r,{name:"file",class:"text-danger mt-2 small"}),Object(m["i"])("div",ot,[Object(m["i"])("button",{class:"btn btn-primary col-md-2 mt-3",disabled:c.uploadingFile},ut,8,rt),Object(m["O"])(Object(m["i"])("div",bt,mt,512),[[n["b"],c.uploadingFile]])]),Object(m["O"])(Object(m["i"])("div",{class:"alert alert-danger p-2 mt-2 text-center"},Object(w["L"])(c.errorMessage),513),[[n["b"],""!==c.errorMessage]])]})),_:1},8,["onSubmit"]),c.uploadedFiles.length>0?(Object(m["B"])(),Object(m["h"])("div",Ot,[Object(m["i"])("h5",null," You have uploaded "+Object(w["L"])("".concat(c.uploadedFiles.length," ").concat(c.uploadedFiles.length>1?"files":"file")),1),Object(m["i"])("ul",jt,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.uploadedFiles,(function(e){return Object(m["B"])(),Object(m["h"])("li",{class:"list-group-item",key:e.id},[Object(m["i"])("div",gt,[Object(m["i"])("div",ft,Object(w["L"])(e.filetype.data.name),1),Object(m["i"])("div",ht,[Object(m["i"])("button",{onClick:Object(n["c"])((function(t){return s.deleteFile(e.id)}),["prevent"]),disabled:c.deletingFile,class:"btn btn-danger small btn-sm"}," Remove ",8,vt)])])])})),128))])])):(Object(m["B"])(),Object(m["h"])("div",yt," No files uploaded yet "))]),wt,Object(m["i"])("div",xt,[Object(m["i"])("div",_t,[Object(m["i"])("button",{onClick:t[1]||(t[1]=Object(n["c"])((function(){return s.stepUpToggle&&s.stepUpToggle.apply(s,arguments)}),["prevent"])),type:"button",class:"btn btn-primary"},St),Ct])])])}a("7db0"),a("d3b7"),a("a9e3");var Rt={name:"FormStepTwo",props:{userApplication:Object,axiosConfig:Object},data:function(){return{application:p.state.user.application.data,deletingFile:!1,loadingFileTypes:!0,uploadedFiles:[],errorMessage:"",file_types:null,hasNote:!1,currentFileType:1,fileWithNote:[6,8,9],file:void 0,note:"",uploadingFile:!1}},computed:{fileWithNoteFlag:function(){var e=this;return"undefined"!==typeof this.fileWithNote.find((function(t){return t===Number(e.currentFileType)}))}},methods:{fetchFileTypes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("applicantboard/files_types",e.axiosConfig).then((function(t){e.file_types=t.data.data,console.log(e.file_types)})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},stepUpToggle:function(){this.$emit("stepUpToggle")},stepDownToggle:function(){this.$emit("stepDownToggle")},uploadFile:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.uploadingFile=!0,n=new FormData,n.append("file",t.file[0]),n.append("file_type_id",e.file_type_id),n.append("note",e.note),a.next=7,b.post("applicantboard/applications/".concat(t.application.id,"/file_upload"),n,t.axiosConfig).then((function(e){t.uploadingFile=!1,t.fetchFiles(),console.log(e)})).catch((function(){t.uploadingFile=!1,t.errorMessage="Some error happened please make sure you haven't uploaded the file already"}));case 7:case"end":return a.stop()}}),a)})))()},currentIndex:function(e){this.errorMessage="",this.currentFileType=e.target.value,document.getElementById("file").value="",this.file=void 0,this.hasNote=!1;var t=this.fileWithNote.find((function(t){return t===Number(e.target.value)}));"undefined"!==typeof t&&(this.hasNote=!0)},fetchFiles:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("applicantboard/applications/".concat(e.application.id,"/files"),e.axiosConfig).then((function(t){var a;e.uploadedFiles=null===(a=t.data)||void 0===a?void 0:a.data})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},deleteFile:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.deletingFile=!0,a.next=3,b.delete("applicantboard/applications/".concat(t.application.id,"/files/").concat(e),t.axiosConfig).then((function(e){t.deletingFile=!1,t.fetchFiles(),console.log(e)})).catch((function(e){t.deletingFile=!1,console.log(e.response)}));case 3:case"end":return a.stop()}}),a)})))()},submitStepTwo:function(){console.log("submit step two")}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fetchFileTypes(),e.fetchFiles();case 2:case"end":return t.stop()}}),t)})))()}};const Bt=f()(Rt,[["render",Ft]]);var At=Bt,Et={class:"border rounded m-3 p-3"},Mt={class:"mt-1"},Tt=Object(m["i"])("div",{class:"text-center mb-3"},[Object(m["i"])("h4",null,"Essays")],-1),Dt={class:"form-control bg-light mb-3"},Nt=Object(m["i"])("label",{class:"form-label fw-bold"}," Why did you choose the (first) faculty you chose? ",-1),Ut={class:"row"},Pt=Object(m["i"])("div",{class:"col"},[Object(m["i"])("div",{class:"small ms-2"}," Essay should be at least 150 words minimum and 250 words maximum ")],-1),It={class:"col"},Vt={class:"border rounded p-1 small mt-2 bg-white ms-auto text-center col-md-3"},Yt={class:"form-control bg-light mb-3"},qt=Object(m["i"])("label",{class:"form-label form-label fw-bold"},[Object(m["m"])(" Discuss one of the following "),Object(m["i"])("ol",{class:"list-group list-group-numbered"},[Object(m["i"])("li",{class:"list-item p-1"},"Role of university in community service"),Object(m["i"])("li",{class:"list-item p-1"},"Ethics of your future profession"),Object(m["i"])("li",{class:"list-item p-1"},"Issue of your choice")])],-1),Gt={class:"row"},Wt=Object(m["i"])("div",{class:"col"},[Object(m["i"])("div",{class:"small ms-2"}," Essay should be at least 150 words minimum and 250 words maximum ")],-1),zt={class:"col"},$t={class:"border rounded bg-white small p-1 mt-2 ms-auto text-center col-md-3"},Ht={class:"text-center"},Jt=["disabled"],Kt=Object(m["i"])("hr",{class:"m-2"},null,-1),Qt={class:"m-1 text-end"},Xt=["disabled"],Zt=Object(m["m"])("Save and continue "),ea=Object(m["i"])("i",{class:"fas fa-arrow-circle-right"},null,-1),ta=[Zt,ea],aa=Object(m["i"])("div",{id:"stepOneSubmit",class:"form-text"}," You can navigate through the steps from the tabs above ",-1);function na(e,t,a,i,c,s){var o=Object(m["E"])("vee-field"),r=Object(m["E"])("error-message"),l=Object(m["E"])("vee-form");return Object(m["B"])(),Object(m["h"])("div",Et,[Object(m["i"])("div",Mt,[Tt,Object(m["n"])(l,{onSubmit:s.uploadEssay,"validation-schema":c.schema},{default:Object(m["N"])((function(){return[Object(m["i"])("div",Dt,[Nt,Object(m["n"])(o,{as:"textarea",rows:"7",modelValue:c.essay_one,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.essay_one=e}),disabled:c.submitLoading,class:"form-control",name:"essay_one"},null,8,["modelValue","disabled"]),Object(m["i"])("div",Ut,[Pt,Object(m["i"])("div",It,[Object(m["i"])("div",Vt," Words: "+Object(w["L"])(s.essay_one_word_count),1)])]),Object(m["n"])(r,{class:"text-danger small m-1",name:"essay_one"})]),Object(m["i"])("div",Yt,[qt,Object(m["n"])(o,{as:"textarea",rows:"7",modelValue:c.essay_two,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.essay_two=e}),disabled:c.submitLoading,class:"form-control",name:"essay_two"},null,8,["modelValue","disabled"]),Object(m["i"])("div",Gt,[Wt,Object(m["i"])("div",zt,[Object(m["i"])("div",$t," Words: "+Object(w["L"])(s.essay_two_word_count),1)])]),Object(m["n"])(r,{class:"text-danger small m-1",name:"essay_two"})]),Object(m["i"])("div",Ht,[Object(m["i"])("button",{disabled:c.submitLoading,class:"btn btn-primary"},"Save Essays",8,Jt),Object(m["O"])(Object(m["i"])("div",{class:"alert alert-danger p-2 mt-2"},Object(w["L"])(c.submitMessage),513),[[n["b"],c.submitMessage.length>0]])])]})),_:1},8,["onSubmit","validation-schema"])]),Kt,Object(m["i"])("div",Qt,[Object(m["i"])("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=Object(n["c"])((function(){return s.uploadEssayAndContinue&&s.uploadEssayAndContinue.apply(s,arguments)}),["prevent"])),disabled:c.submitLoading,"aria-describedby":"stepOneSubmit"},ta,8,Xt),aa])])}a("4de4");var ia={name:"FormStepThree",props:{userApplication:Object,axiosConfig:Object},data:function(){return{submitLoading:!1,application:p.state.user.application.data,submitMessage:"",essay_one:"",essay_two:"",schema:{essay_one:"required",essay_two:"required"}}},computed:{essay_one_word_count:function(){return this.essay_one.split(" ").filter((function(e){return""!==e})).length},essay_two_word_count:function(){return this.essay_two.split(" ").filter((function(e){return""!==e})).length}},methods:{stepUpToggle:function(){},stepDownToggle:function(){this.$emit("stepDownToggle")},fetchEssayApplcation:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.submitLoading=!0,t.next=3,b.get("applicantboard/applications/".concat(e.application.id,"/essay"),e.axiosConfig).then((function(t){var a,n;e.submitLoading=!1,e.essay_one=null===(a=t.data.data)||void 0===a?void 0:a.why_essay,e.essay_two=null===(n=t.data.data)||void 0===n?void 0:n.five_year_essay})).catch((function(t){console.log(t),e.submitLoading=!1}));case 3:case"end":return t.stop()}}),t)})))()},uploadEssay:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.submitLoading=!0,e.submitMessage="",a={why_essay:e.essay_one,five_year_essay:e.essay_two},t.next=5,b.put("applicantboard/applications/".concat(e.application.id,"/essay"),a,e.axiosConfig).then((function(t){console.log(t),e.submitLoading=!1})).catch((function(t){console.log(t.response),e.submitLoading=!1}));case 5:case"end":return t.stop()}}),t)})))()},uploadEssayAndContinue:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.submitLoading=!0,e.submitMessage="",a={why_essay:e.essay_one,five_year_essay:e.essay_two},t.next=5,b.put("applicantboard/applications/".concat(e.application.id,"/essay"),a,e.axiosConfig).then((function(t){console.log(t),e.submitLoading=!1,e.$emit("stepUpToggle")})).catch((function(t){console.log(t.response),e.submitLoading=!1}));case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fetchEssayApplcation();case 1:case"end":return t.stop()}}),t)})))()}};const ca=f()(ia,[["render",na]]);var sa=ca,oa={key:0},ra={class:"border rounded m-3 mt-3 p-2"},la={class:"text-center mt-3"},da=Object(m["i"])("hr",null,null,-1),ua={class:"row"},ba={class:"col"},pa={class:"m-2 mt-4 p-2"},ma=Object(m["i"])("h5",null,"Faculties you picked",-1),Oa={key:0,class:"list-group"},ja={class:"row"},ga={class:"col"},fa={class:"fw-bold"},ha={key:1,class:"alert alert-warning border p-2"},va={class:"col"},ya={class:"m-2 mt-4 p-2"},wa={key:0,class:"list-group"},xa={class:"row"},_a={class:"col"},ka={key:1,class:"alert alert-warning border p-2"},La={class:"row"},Sa={class:"col"},Ca={class:"card-body small"},Fa=Object(m["i"])("h5",null,"First Essay",-1),Ra={class:"border rounded p-2"},Ba={class:"col"},Aa={class:"card-body small"},Ea=Object(m["i"])("h5",null," Second Essay ",-1),Ma={class:"border rounded p-2"},Ta={class:"text-center"},Da=["disabled"],Na=Object(m["i"])("div",{id:"stepOneSubmit",class:"form-text alert alert-warning border m-2 p-2"}," Be warned, once you submit the application you cannot edit it. To redo it, you have to delete the whole application ",-1),Ua={key:1,class:"d-flex justify-content-center mt-5"},Pa=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),Ia=[Pa];function Va(e,t,a,i,c,s){return c.finishedLoading?(Object(m["B"])(),Object(m["h"])("div",oa,[Object(m["i"])("div",ra,[Object(m["i"])("div",la,[Object(m["i"])("h4",null,Object(w["L"])(s.fullname),1),Object(m["i"])("small",null,Object(w["L"])(c.user.email),1)]),da,Object(m["i"])("div",ua,[Object(m["i"])("div",ba,[Object(m["i"])("div",pa,[ma,c.assignedFaculties.length>0?(Object(m["B"])(),Object(m["h"])("ul",Oa,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.assignedFaculties,(function(e){return Object(m["B"])(),Object(m["h"])("li",{key:e.id,class:"list-group-item"},[Object(m["i"])("div",ja,[Object(m["i"])("div",ga,[Object(m["i"])("span",fa,Object(w["L"])("Priority ".concat(e.priority,": ")),1),Object(m["m"])(" "+Object(w["L"])(e.faculty.data.name),1)])])])})),128))])):(Object(m["B"])(),Object(m["h"])("div",ha," Nothing yet "))])]),Object(m["i"])("div",va,[Object(m["i"])("div",ya,[Object(m["i"])("h5",null," You have uploaded "+Object(w["L"])("".concat(c.uploadedFiles.length," ").concat(c.uploadedFiles.length>1?"files":"file")),1),c.uploadedFiles.length>0?(Object(m["B"])(),Object(m["h"])("ul",wa,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.uploadedFiles,(function(e,t){return Object(m["B"])(),Object(m["h"])("li",{class:"list-group-item",key:e.id},[Object(m["i"])("div",xa,[Object(m["i"])("div",_a,Object(w["L"])("".concat(t+1,". ").concat(e.filetype.data.name)),1)])])})),128))])):(Object(m["B"])(),Object(m["h"])("div",ka," Nothing yet "))])])]),Object(m["i"])("div",La,[Object(m["i"])("div",Sa,[Object(m["i"])("div",Ca,[Fa,Object(m["i"])("p",Ra,Object(w["L"])(c.essay_one),1)])]),Object(m["i"])("div",Ba,[Object(m["i"])("div",Aa,[Ea,Object(m["i"])("p",Ma,Object(w["L"])(c.essay_two),1)])])]),Object(m["i"])("div",Ta,[Object(m["i"])("button",{onClick:t[0]||(t[0]=Object(n["c"])((function(e){return s.submitApplication()}),["prevent"])),disabled:c.submitLoading,class:"btn btn-primary"}," Submit Application ",8,Da),Object(m["O"])(Object(m["i"])("div",{class:Object(w["I"])(["p-2 m-3",c.submitMessageClass])},Object(w["L"])(c.submitMessage),3),[[n["b"],c.submitMessage.length>0]]),Na])])])):(Object(m["B"])(),Object(m["h"])("div",Ua,Ia))}var Ya={name:"FormStepFour",props:{userApplication:Object,axiosConfig:Object},data:function(){return{application:p.state.user.application.data,submitMessageClass:"",submitLoading:!1,submitMessage:"",essay_one:"",essay_two:"",user:p.state.user,assignedFaculties:[],uploadedFiles:[],finishedLoading:!1}},computed:{fullname:function(){return"".concat(p.state.user.first_name," ").concat(p.state.user.middle_name," ").concat(p.state.user.last_name)}},methods:{submitApplication:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.submitMessage="",e.submitLoading=!0,t.next=4,b.post("applicantboard/applications/".concat(e.application.id,"/submit"),{status_id:2},e.axiosConfig).then((function(){e.submitMessageClass="alert alert-success",e.submitMessage="Thank you, you have submitted your application",e.submitLoading=!1,e.$emit("submitApplication")})).catch((function(t){console.log(),e.submitMessageClass="alert alert-danger",e.submitMessage=t.response.data.error[0],e.submitLoading=!1}));case 4:case"end":return t.stop()}}),t)})))()},fetchAssignedFaculties:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("applicantboard/applications",e.axiosConfig).then((function(t){e.assignedFaculties=t.data.data.applicationFaculties.data}));case 2:case"end":return t.stop()}}),t)})))()},fetchFiles:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("applicantboard/applications/".concat(e.application.id,"/files"),e.axiosConfig).then((function(t){e.uploadedFiles=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()},fetchEssayApplcation:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("applicantboard/applications/".concat(e.application.id,"/essay"),e.axiosConfig).then((function(t){e.submitLoading=!1,e.essay_one=t.data.data.why_essay,e.essay_two=t.data.data.five_year_essay})).catch((function(){e.submitLoading=!1}));case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFiles();case 2:return t.next=4,e.fetchAssignedFaculties();case 4:return t.next=6,e.fetchEssayApplcation();case 6:e.finishedLoading=!0;case 7:case"end":return t.stop()}}),t)})))()}};const qa=f()(Ya,[["render",Va]]);var Ga=qa,Wa={name:"ApplicantForm",components:{KeepAlive:m["c"],Navbar:xe,StepOne:et,StepTwo:At,StepThree:sa,StepFour:Ga},data:function(){return{applicationSubmitted:!1,hasApplication:!1,stepsDone:0,userApplication:null,finishedLoading:!1}},computed:Object(ce["a"])(Object(ce["a"])({},Object(r["b"])(["configGetter"])),{},{stepOneFlag:function(){return 0===this.stepsDone},stepTwoFlag:function(){return 1===this.stepsDone},stepThreeFlag:function(){return 2===this.stepsDone},stepFourFlag:function(){return 3===this.stepsDone}}),methods:{submitApplication:function(){this.applicationSubmitted=!0,this.stepsDone=3},stepUpToggle:function(){this.stepsDone<3&&(this.stepsDone+=1)},stepDownToggle:function(){this.stepsDone>=0&&(this.stepsDone-=1)},fetchUserApplication:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("applicantboard/applications",e.configGetter).then((function(t){"undefined"!==typeof t.data.data&&(e.hasApplication=!0,e.userApplication=t.data.data,e.finishedLoading=!0,2===e.userApplication.applicationStatus.data.status_id&&(e.applicationSubmitted=!0,e.stepsDone=3))})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchUserApplication();case 2:case"end":return t.stop()}}),t)})))()},beforeRouteEnter:function(e,t,a){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!p.state.authenticated){e.next=6;break}return e.next=3,p.dispatch("restoreSession");case 3:a(),e.next=7;break;case 6:a({name:""});case 7:case"end":return e.stop()}}),e)})))()}};const za=f()(Wa,[["render",ie]]);var $a=za,Ha={key:0},Ja={key:1},Ka={key:2},Qa={key:3},Xa={key:4},Za={key:5},en={key:0},tn={key:1};function an(e,t,a,n,i,c){var s=Object(m["E"])("admin-navbar"),o=Object(m["E"])("navbar"),r=Object(m["E"])("committe-navbar"),l=Object(m["E"])("admin-dashboard"),d=Object(m["E"])("committe-dashboard"),u=Object(m["E"])("applicant"),b=Object(m["E"])("verify-email");return Object(m["B"])(),Object(m["h"])("div",null,[c.isAdmin?(Object(m["B"])(),Object(m["h"])("div",Ha,[Object(m["n"])(s)])):Object(m["g"])("",!0),c.isUser?(Object(m["B"])(),Object(m["h"])("div",Ja,[Object(m["n"])(o)])):Object(m["g"])("",!0),c.isCommitte?(Object(m["B"])(),Object(m["h"])("div",Ka,[Object(m["n"])(r)])):Object(m["g"])("",!0),c.isAdmin?(Object(m["B"])(),Object(m["h"])("div",Qa,[Object(m["n"])(l)])):Object(m["g"])("",!0),c.isCommitte?(Object(m["B"])(),Object(m["h"])("div",Xa,[Object(m["n"])(d)])):Object(m["g"])("",!0),c.isUser?(Object(m["B"])(),Object(m["h"])("div",Za,[i.emailVerified?(Object(m["B"])(),Object(m["h"])("div",en,[Object(m["n"])(u)])):(Object(m["B"])(),Object(m["h"])("div",tn,[Object(m["n"])(b)]))])):Object(m["g"])("",!0)])}var nn={class:"container"},cn={key:0},sn={key:0,class:"card-body border rounded rounded bg-white mt-5 w-75 mx-auto"},on={class:"row p-3"},rn=Object(m["i"])("h4",null,"Continue your application progress",-1),ln=Object(m["i"])("p",null,"You haven't finished your Scholarship application yet",-1),dn={class:"row border rounded p-3 m-2 bg-light"},un={class:"row border rounded m-1 p-1 mb-2 bg-white"},bn=Object(m["i"])("div",{class:"col-md-2"}," Status ",-1),pn={class:"col"},mn={class:"text-end mt-3"},On=Object(m["i"])("div",{class:"alert alert-warning border fw-bold small"}," Please note, even though you've finished all the steps needed, you need to submit the application in the end to finish the proccess. ",-1),jn={class:"text-start"},gn=Object(m["i"])("button",{type:"button",class:"btn btn-danger","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Delete ",-1),fn={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},hn={class:"modal-dialog modal-dialog-centered"},vn={class:"modal-content"},yn=Object(m["i"])("div",{class:"modal-header"},[Object(m["i"])("h5",{class:"modal-title",id:"exampleModalLabel"}," Delete Application "),Object(m["i"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),wn=Object(m["i"])("div",{class:"modal-body text-danger"}," Are you sure you want to delete your application? note that you will lose any progress during registration ",-1),xn={class:"modal-footer"},_n=Object(m["i"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Cancel ",-1),kn=["disabled"],Ln={key:1,class:"card-body border rounded rounded bg-white mt-5"},Sn={class:"row p-3"},Cn=Object(m["i"])("h4",null,"Criteria For Scholarship",-1),Fn={class:"text-end"},Rn=["disabled"],Bn={key:1,class:"d-flex justify-content-center mt-5"},An=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),En=[An];function Mn(e,t,a,i,c,s){var o=this;return Object(m["B"])(),Object(m["h"])("section",null,[Object(m["i"])("div",nn,[c.finishedLoading?(Object(m["B"])(),Object(m["h"])("div",cn,[s.hasApplication?(Object(m["B"])(),Object(m["h"])("div",sn,[Object(m["i"])("div",on,[rn,ln,Object(m["i"])("div",dn,[Object(m["i"])("div",un,[bn,Object(m["i"])("div",pn,Object(w["L"])(c.user.application.data.applicationStatus.data.submissionStatus.data.status),1)])]),Object(m["i"])("div",mn,[Object(m["i"])("button",{class:"btn btn-primary col-md-3",onClick:t[0]||(t[0]=Object(n["c"])((function(e){return o.$router.push({name:"applicantForm"})}),["prevent"]))}," Continue ")])]),On,Object(m["i"])("div",jn,[gn,Object(m["O"])(Object(m["i"])("div",fn,[Object(m["i"])("div",hn,[Object(m["i"])("div",vn,[yn,wn,Object(m["i"])("div",xn,[_n,Object(m["i"])("button",{onClick:t[1]||(t[1]=Object(n["c"])((function(e){return s.deleteApplication()}),["prevent"])),disabled:c.deleteLoading,type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"}," Yes, delete ",8,kn)])])])],512),[[n["b"],!s.hasApplication]])])])):(Object(m["B"])(),Object(m["h"])("div",Ln,[Object(m["i"])("div",Sn,[Cn,Object(m["i"])("ul",null,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.content.criteria,(function(e){return Object(m["B"])(),Object(m["h"])("li",{key:e},Object(w["L"])(e),1)})),128))]),Object(m["i"])("div",Fn,[Object(m["i"])("button",{class:"btn btn-primary col-md-3",disabled:c.creationLoading,onClick:t[2]||(t[2]=Object(n["c"])((function(e){return s.createApplication()}),["prevent"]))}," Create Application ",8,Rn)])])]))])):(Object(m["B"])(),Object(m["h"])("div",Bn,En))])])}var Tn={name:"Applicant",data:function(){return{user:null,creationLoading:!1,content:q,axiosConfig:p.state.config,deleteLoading:!1,finishedLoading:!1}},computed:{hasApplication:function(){return null!==p.state.user.application}},methods:{deleteApplication:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.deleteLoading=!0,t.next=3,b.delete("applicantboard/applications/".concat(e.user.application.data.id),e.axiosConfig).then((function(){e.deleteLoading=!1,p.state.user.application=null})).catch((function(){e.deleteLoading=!1}));case 3:case"end":return t.stop()}}),t)})))()},createApplication:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.creationLoading=!0,t.next=3,b.post("applicantboard/application",null,e.axiosConfig).then((function(t){console.log(t),e.creationLoading=!1,p.dispatch("restoreSession").then((function(){return e.$router.push("applicant-form")}))})).catch((function(){e.creationLoading=!1}));case 3:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.dispatch("restoreSession").then((function(){e.finishedLoading=!0,e.user=p.state.user,e.axiosConfig=p.state.config}));case 2:case"end":return t.stop()}}),t)})))()}};const Dn=f()(Tn,[["render",Mn]]);var Nn=Dn,Un={key:0},Pn=Object(m["i"])("div",{class:"nav_blue_gradient pb-3"},[Object(m["i"])("div",{class:"container"},[Object(m["i"])("div",{class:"text-end"},[Object(m["i"])("button",{class:"btn btn-light","data-bs-toggle":"modal","data-bs-target":"#createMembers"}," Create Committee Members ")])])],-1),In={class:"container mt-5 mb-4"},Vn={class:"card-body bg-white border rounded"},Yn={class:"row"},qn={class:"col"},Gn={class:"mb-3"},Wn=Object(m["i"])("label",{class:"form-label"},"Applicant Id",-1),zn={class:"col-md-4"},$n={class:"mb-3"},Hn=Object(m["i"])("label",{class:"form-label"}," Nationality ",-1),Jn=Object(m["i"])("option",{value:"0"},"None",-1),Kn=["value"],Qn={class:"col-md-4"},Xn={class:"mb-3"},Zn=Object(m["i"])("label",{class:"form-label"}," Status ",-1),ei=Object(m["i"])("option",{value:"0"},"None",-1),ti=["value"],ai=Object(m["i"])("div",{class:"col mt-4"},[Object(m["i"])("button",{class:"btn btn-primary"},"Search")],-1),ni={class:"row"},ii={class:"text-end"},ci=Object(m["i"])("hr",null,null,-1),si={class:"table table-hover"},oi=Object(m["i"])("thead",null,[Object(m["i"])("tr",null,[Object(m["i"])("th",{scope:"col"},"Id"),Object(m["i"])("th",{scope:"col"},"Name"),Object(m["i"])("th",{scope:"col"},"Email"),Object(m["i"])("th",{scope:"col"},"Status"),Object(m["i"])("th",{scope:"col"},"Nationality"),Object(m["i"])("th",{scope:"col",class:"text-center"},"Level-1 Eval"),Object(m["i"])("th",{scope:"col"},"Options")])],-1),ri={scope:"row"},li={class:"btn-group"},di=Object(m["i"])("button",{type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},null,-1),ui={class:"dropdown-menu"},bi=["data-bs-target"],pi=Object(m["i"])("li",null,[Object(m["i"])("hr",{class:"dropdown-divider"})],-1),mi=["data-bs-target"],Oi=["id"],ji={class:"modal-dialog modal-dialog-centered"},gi={class:"modal-content"},fi=Object(m["i"])("div",{class:"modal-header"},[Object(m["i"])("h5",{class:"modal-title",id:"staticBackdropLabel"}," Confirm shortlisting "),Object(m["i"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),hi={class:"modal-body"},vi={key:0},yi=Object(m["m"])(" You're about to shortlist the applicant "),wi={class:"fw-bold"},xi=Object(m["m"])(" under the email address "),_i={class:"fw-bold"},ki=Object(m["m"])(" An email will be sent to the applicant after 24 Hours from his shortlisting action. "),Li=Object(m["i"])("hr",null,null,-1),Si=Object(m["i"])("div",{class:"text-danger"},[Object(m["m"])(" You can cancel the email sending action if you "),Object(m["i"])("span",{class:"fw-bold underline"}," remove the applicant from the shortlist "),Object(m["m"])(" under 24 Hours from his shortlisting action. ")],-1),Ci={key:1},Fi={class:"modal-footer"},Ri=Object(m["i"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1),Bi=["onClick"],Ai=["id"],Ei={class:"modal-dialog modal-fullscreen"},Mi={class:"modal-content"},Ti={class:"modal-header"},Di={class:"modal-title",id:"exampleModalLabel"},Ni={class:"text-center"},Ui=Object(m["i"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Pi={class:"modal-body"},Ii={class:"container"},Vi={class:"row"},Yi=Object(m["i"])("div",{class:"modal-footer"},null,-1),qi=["data-bs-target"],Gi=Object(m["i"])("i",{class:"far fa-edit"},null,-1),Wi=[Gi],zi=["id"],$i={class:"modal-dialog modal-fullscreen"},Hi={class:"modal-content"},Ji={class:"modal-header"},Ki={class:"modal-title",id:"exampleModalLabel"},Qi={class:"text-center"},Xi=Object(m["i"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Zi={class:"modal-body"},ec={class:"container"},tc={class:"row"},ac=Object(m["i"])("div",{class:"modal-footer"},null,-1),nc={class:"mt-3"},ic={"aria-label":"Page navigation"},cc={class:"pagination"},sc={key:0,class:"page-item"},oc=Object(m["i"])("span",{"aria-hidden":"true"},"",-1),rc=[oc],lc={class:"page-item"},dc={class:"page-link"},uc={key:1,class:"page-item"},bc=Object(m["i"])("span",{"aria-hidden":"true"},"",-1),pc=[bc],mc={class:"modal fade",id:"createMembers",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Oc={class:"modal-dialog modal-fullscreen"},jc={class:"modal-content"},gc=Object(m["i"])("div",{class:"modal-header"},[Object(m["i"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(m["i"])("div",{class:"text-center"}," Create Members ")]),Object(m["i"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),fc={class:"modal-body"},hc={class:"container"},vc={class:"row"},yc=Object(m["i"])("div",{class:"modal-footer"},null,-1),wc={key:1,class:"d-flex justify-content-center mt-5"},xc=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),_c=[xc];function kc(e,t,a,n,i,c){var s=Object(m["E"])("vee-field"),o=Object(m["E"])("vee-form"),r=Object(m["E"])("evaluation-score"),l=Object(m["E"])("application-view"),d=Object(m["E"])("application-evaluation"),u=Object(m["E"])("create-member");return i.dashFinishedLoading?(Object(m["B"])(),Object(m["h"])("div",Un,[Pn,Object(m["i"])("div",In,[Object(m["i"])("div",Vn,[Object(m["n"])(o,{onSubmit:c.fetchWithFilter,"initial-values":i.initialValues},{default:Object(m["N"])((function(){return[Object(m["i"])("div",Yn,[Object(m["i"])("div",qn,[Object(m["i"])("div",Gn,[Wn,Object(m["n"])(s,{type:"number",name:"applicant_id",class:"form-control"})])]),Object(m["i"])("div",zn,[Object(m["i"])("div",$n,[Hn,Object(m["n"])(s,{as:"select",name:"country_id",class:"form-select"},{default:Object(m["N"])((function(){return[Jn,(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(i.countries,(function(e){return Object(m["B"])(),Object(m["h"])("option",{value:e.id,key:e},Object(w["L"])("".concat(e.name)),9,Kn)})),128))]})),_:1})])]),Object(m["i"])("div",Qn,[Object(m["i"])("div",Xn,[Zn,Object(m["n"])(s,{as:"select",name:"status_id",class:"form-select"},{default:Object(m["N"])((function(){return[ei,(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(i.statuses,(function(e){return Object(m["B"])(),Object(m["h"])("option",{value:e.id,key:e},Object(w["L"])("".concat(e.status)),9,ti)})),128))]})),_:1})])]),ai])]})),_:1},8,["onSubmit","initial-values"]),Object(m["i"])("div",ni,[Object(m["i"])("h3",ii,Object(w["L"])("Total: ".concat(i.pagination.total)),1)]),ci,Object(m["i"])("table",si,[oi,Object(m["i"])("tbody",null,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(i.applications,(function(e){return Object(m["B"])(),Object(m["h"])("tr",{key:e.id},[Object(m["i"])("th",ri,Object(w["L"])(e.applicant.data.id),1),Object(m["i"])("td",null,Object(w["L"])("".concat(e.applicant.data.first_name,"\n                ").concat(e.applicant.data.last_name)),1),Object(m["i"])("td",null,Object(w["L"])(e.applicant.data.email),1),Object(m["i"])("td",null,Object(w["L"])(e.applicationStatus.data.submissionStatus.data.status),1),Object(m["i"])("td",null,Object(w["L"])(e.applicant.data.country.data.name),1),Object(m["i"])("td",null,[Object(m["n"])(r,{application:e},null,8,["application"])]),Object(m["i"])("td",null,[Object(m["i"])("div",li,[di,Object(m["i"])("ul",ui,[Object(m["i"])("li",null,[Object(m["i"])("button",{type:"button",class:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#modal_".concat(e.id)}," View application ",8,bi)]),pi,Object(m["i"])("li",null,[Object(m["i"])("button",{class:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#shortlist_".concat(e.id)},Object(w["L"])("Shortlisted"===e.applicationStatus.data.submissionStatus.data.status?"Remove from Shortlist":"Shortlist Applicant"),9,mi)])])]),Object(m["i"])("div",{class:"modal fade",id:"shortlist_".concat(e.id),"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[Object(m["i"])("div",ji,[Object(m["i"])("div",gi,[fi,Object(m["i"])("div",hi,["Shortlisted"!==e.applicationStatus.data.submissionStatus.data.status?(Object(m["B"])(),Object(m["h"])("div",vi,[yi,Object(m["i"])("div",wi,Object(w["L"])("".concat(e.applicant.data.first_name,"\n                              ").concat(e.applicant.data.middle_name,"\n                              ").concat(e.applicant.data.last_name)),1),xi,Object(m["i"])("div",_i,Object(w["L"])("".concat(e.applicant.data.email)),1),ki,Li,Si])):(Object(m["B"])(),Object(m["h"])("div",Ci," Are you sure you want to remove "+Object(w["L"])("".concat(e.applicant.data.first_name,"\n                              ").concat(e.applicant.data.middle_name,"\n                              ").concat(e.applicant.data.last_name))+" from the shortlist? ",1))]),Object(m["i"])("div",Fi,[Ri,Object(m["i"])("button",{type:"button",class:"btn btn-success","data-bs-dismiss":"modal",onClick:function(t){return c.shortlistApplication(e.id,e.applicationStatus.data.submissionStatus.data.status)}},Object(w["L"])("Shortlisted"!==e.applicationStatus.data.submissionStatus.data.status?"Shortlist":"Remove"),9,Bi)])])])],8,Oi),Object(m["i"])("div",{class:"modal fade",id:"modal_".concat(e.id),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[Object(m["i"])("div",Ei,[Object(m["i"])("div",Mi,[Object(m["i"])("div",Ti,[Object(m["i"])("h5",Di,[Object(m["i"])("div",Ni,Object(w["L"])("".concat(e.applicant.data.first_name,"\n                              ").concat(e.applicant.data.middle_name,"\n                              ").concat(e.applicant.data.last_name)),1)]),Ui]),Object(m["i"])("div",Pi,[Object(m["i"])("div",Ii,[Object(m["i"])("div",Vi,[Object(m["n"])(l,{application:e},null,8,["application"])])])]),Yi])])],8,Ai),Object(m["i"])("button",{class:"btn btn-warning ms-1","data-bs-toggle":"modal","data-bs-target":"#evaluation_".concat(e.id)},Wi,8,qi),Object(m["i"])("div",{class:"modal fade",id:"evaluation_".concat(e.id),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[Object(m["i"])("div",$i,[Object(m["i"])("div",Hi,[Object(m["i"])("div",Ji,[Object(m["i"])("h5",Ki,[Object(m["i"])("div",Qi,Object(w["L"])("".concat(e.applicant.data.first_name,"\n                              ").concat(e.applicant.data.middle_name,"\n                              ").concat(e.applicant.data.last_name)),1)]),Xi]),Object(m["i"])("div",Zi,[Object(m["i"])("div",ec,[Object(m["i"])("div",tc,[Object(m["n"])(d,{application:e},null,8,["application"])])])]),ac])])],8,zi)])])})),128))])])]),Object(m["i"])("div",nc,[Object(m["i"])("nav",ic,[Object(m["i"])("ul",cc,[c.isFirstPage?Object(m["g"])("",!0):(Object(m["B"])(),Object(m["h"])("li",sc,[Object(m["i"])("a",{class:Object(w["I"])(["page-link btn",i.paginationLoading?"disabled":""]),"aria-label":"Previous",onClick:t[0]||(t[0]=function(e){return c.fetchApplications(--i.pagination.currentPage)})},rc,2)])),Object(m["i"])("li",lc,[Object(m["i"])("a",dc,Object(w["L"])(i.pagination.currentPage)+"/"+Object(w["L"])(i.pagination.total_pages),1)]),c.isLastPage?Object(m["g"])("",!0):(Object(m["B"])(),Object(m["h"])("li",uc,[Object(m["i"])("a",{class:Object(w["I"])(["page-link btn",i.paginationLoading?"disabled":""]),"aria-label":"Next",onClick:t[1]||(t[1]=function(e){return c.fetchApplications(++i.pagination.currentPage)})},pc,2)]))])])])]),Object(m["i"])("div",mc,[Object(m["i"])("div",Oc,[Object(m["i"])("div",jc,[gc,Object(m["i"])("div",fc,[Object(m["i"])("div",hc,[Object(m["i"])("div",vc,[Object(m["n"])(u)])])]),yc])])])])):(Object(m["B"])(),Object(m["h"])("div",wc,_c))}var Lc={class:""},Sc={class:"row"},Cc={class:"col"},Fc={class:"m-2 mt-4 p-2"},Rc=Object(m["i"])("h5",null,"Faculties picked",-1),Bc={key:0,class:"list-group"},Ac={class:"row"},Ec={class:"col"},Mc={class:"fw-bold"},Tc={key:1,class:"mt-2"},Dc=Object(m["i"])("div",{class:"alert alert-warning border"}," No faculties assigned yet ",-1),Nc=[Dc],Uc={class:"col"},Pc={class:"m-2 mt-4 p-2"},Ic={key:0,class:"list-group"},Vc={class:"row"},Yc={class:"col"},qc={class:"col"},Gc={class:"col"},Wc=["onClick"],zc=Object(m["m"])(" Download "),$c=Object(m["i"])("i",{class:"fas fa-download"},null,-1),Hc=[zc,$c],Jc={key:1},Kc=Object(m["i"])("div",{class:"alert alert-warning border"}," No uploaded files yet ",-1),Qc=[Kc],Xc={class:"row"},Zc={class:"col"},es={class:"card-body small"},ts=Object(m["i"])("h5",null,"First Essay",-1),as={class:"border rounded p-2"},ns={class:"col"},is={class:"card-body small"},cs=Object(m["i"])("h5",null," Second Essay ",-1),ss={class:"border rounded p-2"};function os(e,t,a,i,c,s){return Object(m["B"])(),Object(m["h"])("div",Lc,[Object(m["i"])("div",Sc,[Object(m["i"])("div",Cc,[Object(m["i"])("div",Fc,[Rc,c.faculties.length>0?(Object(m["B"])(),Object(m["h"])("ul",Bc,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.faculties,(function(e){return Object(m["B"])(),Object(m["h"])("li",{key:e.id,class:"list-group-item"},[Object(m["i"])("div",Ac,[Object(m["i"])("div",Ec,[Object(m["i"])("span",Mc,Object(w["L"])(e.priority),1),Object(m["m"])(" "+Object(w["L"])(e.faculty.data.name),1)])])])})),128))])):(Object(m["B"])(),Object(m["h"])("div",Tc,Nc))])]),Object(m["i"])("div",Uc,[Object(m["i"])("div",Pc,[Object(m["i"])("h5",null," Uploaded "+Object(w["L"])("".concat(c.files.length," ").concat(c.files.length>1||c.files.length?"files":"file")),1),c.files.length>0?(Object(m["B"])(),Object(m["h"])("ul",Ic,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.files,(function(e){return Object(m["B"])(),Object(m["h"])("li",{class:"list-group-item",key:e.id},[Object(m["i"])("div",Vc,[Object(m["i"])("div",Yc,Object(w["L"])("".concat(e.filetype.data.name)),1),Object(m["i"])("div",qc,Object(w["L"])("".concat(e.file_name)),1),Object(m["i"])("div",Gc,[Object(m["i"])("button",{class:"btn btn-primary mt-3",onClick:Object(n["c"])((function(t){return s.downloadFile(e.file_name)}),["prevent"])},Hc,8,Wc)])])])})),128))])):(Object(m["B"])(),Object(m["h"])("div",Jc,Qc))])])]),Object(m["i"])("div",Xc,[Object(m["i"])("div",Zc,[Object(m["i"])("div",es,[ts,Object(m["i"])("p",as,Object(w["L"])(c.essay.five_year_essay),1)])]),Object(m["i"])("div",ns,[Object(m["i"])("div",is,[cs,Object(m["i"])("p",ss,Object(w["L"])(c.essay.why_essay),1)])])])])}a("3ca3"),a("ddb0"),a("2b3d"),a("9861");var rs={name:"ApplicationView",props:{application:Object},data:function(){return{faculties:[],axiosConfig:p.state.config,files:[],essay:{}}},computed:{},methods:{downloadFile:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,b({url:"https://api-scholarship.limu.edu.ly/api/adminboard/applications/".concat(t.application.id,"/files/").concat(e),method:"GET",responseType:"blob",headers:t.axiosConfig.headers}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",e),document.body.appendChild(n),n.click()})).catch((function(e){console.log(e.response)}));case 2:case"end":return a.stop()}}),a)})))()},fetchFiles:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("adminboard/applications/".concat(e.application.id,"/files"),e.axiosConfig).then((function(t){e.files=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()},fetchEssays:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("adminboard/applications/".concat(e.application.id,"/essay"),e.axiosConfig).then((function(t){e.essay=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFiles();case 2:return t.next=4,e.fetchEssays();case 4:e.faculties=e.application.applicationFaculties.data;case 5:case"end":return t.stop()}}),t)})))()}};const ls=f()(rs,[["render",os]]);var ds=ls,us={class:"row"},bs={class:"col"},ps={key:0,class:"m-2 mt-4 p-2"},ms=Object(m["i"])("hr",null,null,-1),Os={key:0,class:"list-group"},js={class:"row"},gs={class:"col"},fs={class:"col"},hs={class:"col"},vs=["onClick"],ys=Object(m["m"])(" Download "),ws=Object(m["i"])("i",{class:"fas fa-download"},null,-1),xs=[ys,ws],_s={key:1,class:"d-flex justify-content-center mt-5"},ks=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),Ls=[ks],Ss={class:"col"},Cs={key:0,class:"m-2 mt-4 p-3 border rounded shadow"},Fs=Object(m["i"])("h4",{class:"text-center mt-2"},"Evaluation Score",-1),Rs=Object(m["i"])("hr",null,null,-1),Bs={class:"row"},As={class:"col"},Es={class:"mb-3"},Ms=Object(m["i"])("label",{class:"form-label"}," Age Score ",-1),Ts={class:"col"},Ds={class:"mb-3"},Ns=Object(m["i"])("label",{class:"form-label"}," Income Score ",-1),Us={class:"row"},Ps={class:"col"},Is={class:"mb-3"},Vs=Object(m["i"])("label",{class:"form-label"}," Year 9 Score ",-1),Ys={class:"col"},qs={class:"mb-3"},Gs=Object(m["i"])("label",{class:"form-label"}," Year 10 Score ",-1),Ws={class:"col"},zs={class:"mb-3"},$s=Object(m["i"])("label",{class:"form-label"}," Year 11 Score ",-1),Hs={class:"bg-light border m-0 mb-2 p-2 rounded row row-cols-md-auto"},Js=Object(m["i"])("div",{class:"col"}," Evaluation Estimate: ",-1),Ks={class:"col"},Qs={class:"row"},Xs={class:"col"},Zs={class:"text-center"},eo=["disabled"],to=Object(m["i"])("div",{class:"form-text small"}," You can optionally assign all or individual scores as needed ",-1),ao=Object(m["i"])("hr",null,null,-1),no={key:1,class:"d-flex justify-content-center mt-5"},io=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),co=[io];function so(e,t,a,i,c,s){var o=Object(m["E"])("vee-field"),r=Object(m["E"])("error-message"),l=Object(m["E"])("vee-form");return Object(m["B"])(),Object(m["h"])("div",us,[Object(m["i"])("div",bs,[c.filesLoading?(Object(m["B"])(),Object(m["h"])("div",_s,Ls)):(Object(m["B"])(),Object(m["h"])("div",ps,[Object(m["i"])("h5",null," Uploaded "+Object(w["L"])("".concat(c.files.length," ").concat(c.files.length>1||0===c.files.length?"files":"file")),1),ms,c.files.length>0?(Object(m["B"])(),Object(m["h"])("ul",Os,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.files,(function(e){return Object(m["B"])(),Object(m["h"])("li",{class:"list-group-item",key:e.id},[Object(m["i"])("div",js,[Object(m["i"])("div",gs,Object(w["L"])("".concat(e.filetype.data.name)),1),Object(m["i"])("div",fs,Object(w["L"])("".concat(e.file_name)),1),Object(m["i"])("div",hs,[Object(m["i"])("button",{class:"btn btn-primary mt-3",onClick:Object(n["c"])((function(t){return s.downloadFile(e.file_name)}),["prevent"])},xs,8,vs)])])])})),128))])):Object(m["g"])("",!0)]))]),Object(m["i"])("div",Ss,[c.scoresLoading?(Object(m["B"])(),Object(m["h"])("div",no,co)):(Object(m["B"])(),Object(m["h"])("div",Cs,[Fs,Rs,Object(m["n"])(l,{"validation-schema":c.schema,onSubmit:s.evaluateApplication},{default:Object(m["N"])((function(){return[Object(m["i"])("div",Bs,[Object(m["i"])("div",As,[Object(m["i"])("div",Es,[Ms,Object(m["n"])(o,{type:"number",name:"age_score",min:"0",max:"5",value:c.scores.age_score,class:"form-control",placeholder:"Assign Score"},null,8,["value"]),Object(m["n"])(r,{class:"text-danger small",name:"age_score"})])]),Object(m["i"])("div",Ts,[Object(m["i"])("div",Ds,[Ns,Object(m["n"])(o,{type:"number",name:"income_score",min:"0",max:"5",value:c.scores.income_score,class:"form-control",placeholder:"Assign Score"},null,8,["value"]),Object(m["n"])(r,{class:"text-danger small",name:"income_score"})])]),Object(m["i"])("div",Us,[Object(m["i"])("div",Ps,[Object(m["i"])("div",Is,[Vs,Object(m["n"])(o,{type:"number",name:"year9_score",min:"0",max:"5",value:c.scores.year9_score,class:"form-control",placeholder:"Assign Score"},null,8,["value"]),Object(m["n"])(r,{class:"text-danger small",name:"year9_score"})])]),Object(m["i"])("div",Ys,[Object(m["i"])("div",qs,[Gs,Object(m["n"])(o,{type:"number",name:"year10_score",min:"0",max:"5",value:c.scores.year10_score,class:"form-control",placeholder:"Assign Score"},null,8,["value"]),Object(m["n"])(r,{class:"text-danger small",name:"year10_score"})])]),Object(m["i"])("div",Ws,[Object(m["i"])("div",zs,[$s,Object(m["n"])(o,{type:"number",name:"year11_score",min:"0",max:"5",value:c.scores.year11_score,class:"form-control",placeholder:"Assign Score"},null,8,["value"]),Object(m["n"])(r,{class:"text-danger small",name:"year11_score"})])])]),Object(m["i"])("div",Hs,[Js,Object(m["i"])("div",Ks,Object(w["L"])("".concat(c.scores.level1_score,"%")),1)])]),Object(m["i"])("div",Qs,[Object(m["i"])("div",Xs,[Object(m["i"])("div",Zs,[Object(m["i"])("button",{class:"btn btn-primary col-md-4",disabled:c.saveLoading}," Save ",8,eo),to,ao,""!==c.saveMsg?(Object(m["B"])(),Object(m["h"])("div",{key:0,class:Object(w["I"])(["alert ".concat(c.saveMsgClass),"mt-2"])},Object(w["L"])(c.saveMsg),3)):Object(m["g"])("",!0)])])])]})),_:1},8,["validation-schema","onSubmit"])]))])])}var oo={name:"ApplicationEvaluation",props:{application:Object},data:function(){return{scoresLoading:!0,saveLoading:!1,filesLoading:!0,axiosConfig:p.state.config,files:[],essay:{},scores:{},saveMsgClass:"",saveMsg:"",schema:{age_score:"min_value:0|max_value:5",income_score:"min_value:0|max_value:5",year9_score:"min_value:0|max_value:5",year10_score:"min_value:0|max_value:5",year11_score:"min_value:0|max_value:5"}}},methods:{downloadFile:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,b({url:"https://api-scholarship.limu.edu.ly/api/adminboard/applications/".concat(t.application.id,"/files/").concat(e),method:"GET",responseType:"blob",headers:t.axiosConfig.headers}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",e),document.body.appendChild(n),n.click()})).catch((function(e){console.log(e.response)}));case 2:case"end":return a.stop()}}),a)})))()},fetchFiles:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("adminboard/applications/".concat(e.application.id,"/files"),e.axiosConfig).then((function(t){e.filesLoading=!1,e.files=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()},fetchScores:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.scoresLoading=!0,a={application_id:e.application.id},t.next=4,b.post("adminboard/applications/scores",a,e.axiosConfig).then((function(t){e.scoresLoading=!1,e.scores=t.data.data[0]})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)})))()},evaluateApplication:function(e){var t=this;this.saveLoading=!0,b.put("adminboard/applications/".concat(this.application.id,"/scores"),e,this.axiosConfig).then((function(){t.saveMsgClass="alert-success",t.saveMsg="Saved successfully",t.saveLoading=!1})).catch((function(e){console.log(e.response),t.saveMsgClass="alert-danger",t.saveMsg="Error, make sure to enter valid data",t.saveLoading=!1}))}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFiles();case 2:return t.next=4,e.fetchScores();case 4:case"end":return t.stop()}}),t)})))()}};const ro=f()(oo,[["render",so]]);var lo=ro,uo={key:0,class:"border rounded m-auto text-center bg-light fw-bold p-2"},bo={key:1,class:"text-center"},po=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),mo=[po];function Oo(e,t,a,n,i,c){return i.scoresLoading?(Object(m["B"])(),Object(m["h"])("div",bo,mo)):(Object(m["B"])(),Object(m["h"])("div",uo,Object(w["L"])("".concat(i.scores.level1_score,"%")),1))}var jo={name:"EvaluationScore",props:{application:Object},data:function(){return{scores:{},axiosConfig:p.state.config,scoresLoading:!0}},methods:{fetchScores:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.scoresLoading=!0,a={application_id:e.application.id},t.next=4,b.post("adminboard/applications/scores",a,e.axiosConfig).then((function(t){e.scoresLoading=!1,e.scores=t.data.data[0]})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchScores();case 2:case"end":return t.stop()}}),t)})))()}};const go=f()(jo,[["render",Oo]]);var fo=go,ho={class:"row"},vo={class:"col"},yo=Object(m["m"])(" Committee Members "),wo={key:0},xo={key:0},_o={class:"list-group-item"},ko={class:"row"},Lo={class:"col"},So={class:"col"},Co={key:1},Fo=Object(m["i"])("div",{class:"alert alert-warning border m-3"}," No Committee members are registered in the system yet ",-1),Ro=[Fo],Bo={key:1,class:"d-flex justify-content-center mt-5"},Ao=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),Eo=[Ao],Mo={class:"col border rounded bg-light p-3"},To={class:"row"},Do=Object(m["i"])("h5",{class:"text-center"},"Create a member",-1),No={class:"row mb-2"},Uo=Object(m["i"])("label",{class:"form-label"}," Name ",-1),Po=Object(m["i"])("div",{class:"form-text text-sm"}," Name should be atleast 3 characters ",-1),Io={class:"row mb-2"},Vo=Object(m["i"])("label",{class:"form-label"}," Email ",-1),Yo=Object(m["i"])("div",{class:"form-text text-sm"}," A valid email syntax is required ",-1),qo={class:"row mb-2"},Go=Object(m["i"])("label",{class:"form-label"}," Password ",-1),Wo=Object(m["i"])("div",{class:"form-text text-sm"}," Password should be atleast 8 characters minimum ",-1),zo={class:"row mb-2"},$o=Object(m["i"])("label",{class:"form-label"}," Password Confirmation ",-1),Ho={class:"row"},Jo={class:"text-center"},Ko=["disabled"],Qo={key:0};function Xo(e,t,a,n,i,c){var s=Object(m["E"])("vee-field"),o=Object(m["E"])("error-message"),r=Object(m["E"])("vee-form");return Object(m["B"])(),Object(m["h"])("div",ho,[Object(m["i"])("div",vo,[yo,null!==i.members?(Object(m["B"])(),Object(m["h"])("div",wo,[i.members.length>0?(Object(m["B"])(),Object(m["h"])("div",xo,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(i.members,(function(e){return Object(m["B"])(),Object(m["h"])("ol",{key:e,class:"list-group"},[Object(m["i"])("li",_o,[Object(m["i"])("div",ko,[Object(m["i"])("div",Lo,Object(w["L"])(e.name),1),Object(m["i"])("div",So,Object(w["L"])(e.email),1)])])])})),128))])):(Object(m["B"])(),Object(m["h"])("div",Co,Ro))])):(Object(m["B"])(),Object(m["h"])("div",Bo,Eo))]),Object(m["i"])("div",Mo,[Object(m["n"])(r,{onSubmit:c.createMember,"validation-schema":i.schema},{default:Object(m["N"])((function(){return[Object(m["i"])("div",To,[Do,Object(m["i"])("div",No,[Uo,Object(m["n"])(s,{name:"name",class:"form-control"}),Po,Object(m["n"])(o,{class:"text-danger small",name:"name"})]),Object(m["i"])("div",Io,[Vo,Object(m["n"])(s,{name:"email",class:"form-control"}),Yo,Object(m["n"])(o,{class:"text-danger small",name:"email"})]),Object(m["i"])("div",qo,[Go,Object(m["n"])(s,{type:"password",name:"password",class:"form-control"}),Wo,Object(m["n"])(o,{class:"text-danger small",name:"password"})]),Object(m["i"])("div",zo,[$o,Object(m["n"])(s,{type:"password",name:"password_confirmation",class:"form-control"}),Object(m["n"])(o,{class:"text-danger small",name:"password_confirmation"})]),Object(m["i"])("div",Ho,[Object(m["i"])("div",Jo,[Object(m["i"])("button",{class:"btn btn-primary col-md-4",disabled:i.registerLoading}," Register Member ",8,Ko)]),i.registerMsg.length>0?(Object(m["B"])(),Object(m["h"])("div",Qo,[Object(m["i"])("div",{class:Object(w["I"])(["p-1 text-center mt-3","alert ".concat(i.registerMsgClass)])},[Object(m["i"])("p",null,Object(w["L"])(i.registerMsg),1)],2)])):Object(m["g"])("",!0)])])]})),_:1},8,["onSubmit","validation-schema"])])])}var Zo={name:"CreateMember",data:function(){return{axiosConfig:p.state.config,members:null,registerLoading:!1,registerMsg:"",registerMsgClass:"",schema:{name:"required|min:3|max:50",email:"required|email|max:255",password:"required|min:8|max:100",password_confirmation:"password_mismatch:@password"}}},methods:{createMember:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.registerMsg="",t.registerloading=!0,a.next=4,b.post("adminboard/committees",e,t.axiosConfig).then((function(){t.registerloading=!1,t.fetchCommitteMembers()})).catch((function(){t.registerMsg="error, make sure the email address is unique",t.registerMsgClass="alert-danger",t.registerloading=!1}));case 4:case"end":return a.stop()}}),a)})))()},fetchCommitteMembers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("adminboard/committees",e.axiosConfig).then((function(t){e.members=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchCommitteMembers();case 2:console.log(e.members);case 3:case"end":return t.stop()}}),t)})))()}};const er=f()(Zo,[["render",Xo]]);var tr=er,ar={name:"AdminDashboard",components:{ApplicationView:ds,ApplicationEvaluation:lo,EvaluationScore:fo,CreateMember:tr},data:function(){return{name:"./sample.pdf",path:"lib/pdfjs-2.3.200-dist/web/viewer.html",applicant:Object,applicationFaculties:[],paginationLoading:!1,applicationOpened:!1,filters:Object,dashFinishedLoading:!1,axiosConfig:p.state.config,applications:[],countries:[],statuses:[],pagination:{count:0,total:0,perPage:12,currentPage:1,total_pages:1,links:[]},initialValues:{country_id:0,status_id:0}}},computed:{isFirstPage:function(){return 1===this.pagination.currentPage},isLastPage:function(){return this.pagination.currentPage===this.pagination.total_pages}},methods:{fetchApplications:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.paginationLoading=!0,a.next=3,b.post("adminboard/applications?page=".concat(e<1?1:e),t.filters,t.axiosConfig).then((function(e){t.paginationLoading=!1,t.dashFinishedLoading=!0;var a=e.data.meta.pagination;t.applications=e.data.data,t.pagination.count=a.count,t.pagination.total=a.total,t.pagination.perPage=a.per_page,t.pagination.currentPage=a.current_page,t.pagination.total_pages=a.total_pages,t.pagination.links=a.links})).catch((function(){t.dashFinishedLoading=!0,t.paginationLoading=!1}));case 3:case"end":return a.stop()}}),a)})))()},fetchWithFilter:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.filters={country_id:0===Number(e.country_id)?null:e.country_id,status_id:0===Number(e.status_id)?null:e.status_id,applicant_id:0===Number(e.applicant_id)?null:e.applicant_id},a.next=3,t.fetchApplications(1,t.filters);case 3:case"end":return a.stop()}}),a)})))()},fetchCountries:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("adminboard/countries",e.axiosConfig).then((function(t){e.countries=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()},fetchApplicationStatuses:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("adminboard/application_statuses",e.axiosConfig).then((function(t){e.statuses=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()},shortlistApplication:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={status_id:"Shortlisted"===t?1:3},n.next=3,b.put("adminboard/applications/".concat(e,"/status"),i,a.axiosConfig).then((function(){a.fetchApplications(a.pagination.currentPage,a.filters)})).catch((function(e){console.log(e.response)}));case 3:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchCountries();case 2:return t.next=4,e.fetchApplicationStatuses();case 4:return t.next=6,e.fetchApplications();case 6:case"end":return t.stop()}}),t)})))()}};const nr=f()(ar,[["render",kc]]);var ir=nr,cr={class:"container"},sr={class:"row"},or={class:"text-center mt-5 border p-3 alert alert-warning"},rr=Object(m["m"])(" Please verify your email address before proceeding "),lr=Object(m["i"])("br",null,null,-1),dr=["disabled"],ur={key:0},br={class:"text-center"},pr={key:1,class:"d-flex justify-content-center mt-1"},mr=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),Or=[mr];function jr(e,t,a,n,i,c){return Object(m["B"])(),Object(m["h"])("div",cr,[Object(m["i"])("div",sr,[Object(m["i"])("div",or,[rr,lr,Object(m["i"])("button",{disabled:i.emailSending,class:"btn btn-primary mt-3",onClick:t[0]||(t[0]=function(){return c.resendVerificationEmail&&c.resendVerificationEmail.apply(c,arguments)})}," Resend verification email ",8,dr),i.emailSendingMessage.length>0?(Object(m["B"])(),Object(m["h"])("div",ur,[Object(m["i"])("div",{class:Object(w["I"])(["border mt-3 col-md-4 d-flex m-auto bg-white rounded",i.emailSendingMessageClass])},[Object(m["i"])("div",br,Object(w["L"])(i.emailSendingMessage),1)],2)])):Object(m["g"])("",!0),i.emailSending?(Object(m["B"])(),Object(m["h"])("div",pr,Or)):Object(m["g"])("",!0)])])])}var gr={name:"VerifyEmail",data:function(){return{axiosConfig:p.state.config,emailSending:!1,emailSendingMessage:"",emailSendingMessageClass:""}},methods:{resendVerificationEmail:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.emailSendingMessage="",e.emailSending=!0,t.next=4,b.post("applicantboard/email/verify/resend",e.axiosConfig).then((function(){e.emailSending=!1,e.emailSendingMessageClass="text-success",e.emailSendingMessage="Email has been sent successfully"})).catch((function(){e.emailSending=!1,e.emailSendingMessageClass="text-danger",e.emailSendingMessage="Something wrong happened, please try again later"}));case 4:case"end":return t.stop()}}),t)})))()}}};const fr=f()(gr,[["render",jr]]);var hr=fr,vr={class:"navbar navbar-expand-lg navbar-light nav_blue_gradient p-3"},yr={class:"container"},wr=Object(m["i"])("a",{class:"navbar-brand text-white"},[Object(m["i"])("img",{src:oe.a,alt:"",width:"60",height:"34",class:"img-thumbnail"}),Object(m["m"])(" LIMU Scholarship ")],-1),xr=Object(m["i"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(m["i"])("span",{class:"navbar-toggler-icon"})],-1),_r={class:"collapse navbar-collapse",id:"navbarSupportedContent"},kr=Object(m["i"])("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0"},[Object(m["i"])("li",{class:"nav-item dropdown"},[Object(m["i"])("a",{href:"",class:"nav-link text-white"},"Dashboard")])],-1),Lr={class:"navbar-nav ms-auto mb-2 mb-lg-0"},Sr={class:"nav-item dropdown"},Cr={class:"nav-link dropdown-toggle text-white small",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Fr={class:"dropdown-menu"};function Rr(e,t,a,n,i,c){return Object(m["B"])(),Object(m["h"])("nav",vr,[Object(m["i"])("div",yr,[wr,xr,Object(m["i"])("div",_r,[kr,Object(m["i"])("ul",Lr,[Object(m["i"])("li",Sr,[Object(m["i"])("a",Cr,Object(w["L"])(i.admin.name),1),Object(m["i"])("ul",Fr,[Object(m["i"])("li",null,[Object(m["i"])("a",{class:"dropdown-item btn",onClick:t[0]||(t[0]=function(){return c.logout&&c.logout.apply(c,arguments)})},"Logout")])])])])])])])}var Br={name:"AdminNavbar",data:function(){return{admin:p.state.user}},computed:Object(ce["a"])({},Object(r["b"])(["configGetter"])),methods:{logout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("authboard/logout",e.configGetter).then((function(e){console.log(e),p.dispatch("logout").then((function(){return Zb.push({name:"login"})}))})).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})))()}}};const Ar=f()(Br,[["render",Rr]]);var Er=Ar,Mr={key:0},Tr={class:"container mt-5 mb-4"},Dr={class:"card-body bg-white border rounded"},Nr={class:"row"},Ur={class:"col"},Pr={class:"mb-3"},Ir=Object(m["i"])("label",{class:"form-label"},"Applicant Id",-1),Vr={class:"col-md-4"},Yr={class:"mb-3"},qr=Object(m["i"])("label",{class:"form-label"}," Nationality ",-1),Gr=Object(m["i"])("option",{value:"0"},"None",-1),Wr=["value"],zr={class:"col-md-4"},$r={class:"mb-3"},Hr=Object(m["i"])("label",{class:"form-label"}," Status ",-1),Jr=Object(m["i"])("option",{value:"0"},"None",-1),Kr=["value"],Qr=Object(m["i"])("div",{class:"col mt-4"},[Object(m["i"])("button",{class:"btn btn-primary"},"Search")],-1),Xr={class:"row"},Zr={class:"text-end"},el=Object(m["i"])("hr",null,null,-1),tl={class:"table table-hover"},al=Object(m["i"])("thead",null,[Object(m["i"])("tr",null,[Object(m["i"])("th",{scope:"col"},"Id"),Object(m["i"])("th",{scope:"col"},"Name"),Object(m["i"])("th",{scope:"col"},"Email"),Object(m["i"])("th",{scope:"col"},"Status"),Object(m["i"])("th",{scope:"col"},"Nationality"),Object(m["i"])("th",{scope:"col",class:"text-center"},"Level-1 Eval"),Object(m["i"])("th",{scope:"col"},"Options")])],-1),nl={scope:"row"},il={class:"btn-group"},cl=Object(m["i"])("button",{type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},null,-1),sl={class:"dropdown-menu"},ol=["data-bs-target"],rl=["id"],ll={class:"modal-dialog modal-fullscreen"},dl={class:"modal-content"},ul={class:"modal-header"},bl={class:"modal-title",id:"exampleModalLabel"},pl={class:"text-center"},ml=Object(m["i"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ol={class:"modal-body"},jl={class:"container"},gl={class:"row"},fl=Object(m["i"])("div",{class:"modal-footer"},null,-1),hl=["data-bs-target"],vl=Object(m["i"])("i",{class:"far fa-edit"},null,-1),yl=[vl],wl=["id"],xl={class:"modal-dialog modal-fullscreen"},_l={class:"modal-content"},kl={class:"modal-header"},Ll={class:"modal-title",id:"exampleModalLabel"},Sl={class:"text-center"},Cl=Object(m["i"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Fl={class:"modal-body"},Rl={class:"container"},Bl={class:"row"},Al=Object(m["i"])("div",{class:"modal-footer"},null,-1),El={class:"mt-3"},Ml={"aria-label":"Page navigation"},Tl={class:"pagination"},Dl={key:0,class:"page-item"},Nl=Object(m["i"])("span",{"aria-hidden":"true"},"",-1),Ul=[Nl],Pl={class:"page-item"},Il={class:"page-link"},Vl={key:1,class:"page-item"},Yl=Object(m["i"])("span",{"aria-hidden":"true"},"",-1),ql=[Yl],Gl={key:1,class:"d-flex justify-content-center mt-5"},Wl=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),zl=[Wl];function $l(e,t,a,n,i,c){var s=Object(m["E"])("vee-field"),o=Object(m["E"])("vee-form"),r=Object(m["E"])("evaluation-score"),l=Object(m["E"])("application-view"),d=Object(m["E"])("application-evaluation");return i.dashFinishedLoading?(Object(m["B"])(),Object(m["h"])("div",Mr,[Object(m["i"])("div",Tr,[Object(m["i"])("div",Dr,[Object(m["n"])(o,{onSubmit:c.fetchWithFilter,"initial-values":i.initialValues},{default:Object(m["N"])((function(){return[Object(m["i"])("div",Nr,[Object(m["i"])("div",Ur,[Object(m["i"])("div",Pr,[Ir,Object(m["n"])(s,{type:"number",name:"applicant_id",class:"form-control"})])]),Object(m["i"])("div",Vr,[Object(m["i"])("div",Yr,[qr,Object(m["n"])(s,{as:"select",name:"country_id",class:"form-select"},{default:Object(m["N"])((function(){return[Gr,(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(i.countries,(function(e){return Object(m["B"])(),Object(m["h"])("option",{value:e.id,key:e},Object(w["L"])("".concat(e.name)),9,Wr)})),128))]})),_:1})])]),Object(m["i"])("div",zr,[Object(m["i"])("div",$r,[Hr,Object(m["n"])(s,{as:"select",name:"status_id",class:"form-select"},{default:Object(m["N"])((function(){return[Jr,(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(i.statuses,(function(e){return Object(m["B"])(),Object(m["h"])("option",{value:e.id,key:e},Object(w["L"])("".concat(e.status)),9,Kr)})),128))]})),_:1})])]),Qr])]})),_:1},8,["onSubmit","initial-values"]),Object(m["i"])("div",Xr,[Object(m["i"])("h3",Zr,Object(w["L"])("Total: ".concat(i.pagination.total)),1)]),el,Object(m["i"])("table",tl,[al,Object(m["i"])("tbody",null,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(i.applications,(function(e){return Object(m["B"])(),Object(m["h"])("tr",{key:e.id},[Object(m["i"])("th",nl,Object(w["L"])(e.applicant.data.id),1),Object(m["i"])("td",null,Object(w["L"])("".concat(e.applicant.data.first_name,"\n                ").concat(e.applicant.data.last_name)),1),Object(m["i"])("td",null,Object(w["L"])(e.applicant.data.email),1),Object(m["i"])("td",null,Object(w["L"])(e.applicationStatus.data.submissionStatus.data.status),1),Object(m["i"])("td",null,Object(w["L"])(e.applicant.data.country.data.name),1),Object(m["i"])("td",null,[Object(m["n"])(r,{application:e},null,8,["application"])]),Object(m["i"])("td",null,[Object(m["i"])("div",il,[cl,Object(m["i"])("ul",sl,[Object(m["i"])("li",null,[Object(m["i"])("button",{type:"button",class:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#modal_".concat(e.id)}," View application ",8,ol)])])]),Object(m["i"])("div",{class:"modal fade",id:"modal_".concat(e.id),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[Object(m["i"])("div",ll,[Object(m["i"])("div",dl,[Object(m["i"])("div",ul,[Object(m["i"])("h5",bl,[Object(m["i"])("div",pl,Object(w["L"])("".concat(e.applicant.data.first_name,"\n                              ").concat(e.applicant.data.middle_name,"\n                              ").concat(e.applicant.data.last_name)),1)]),ml]),Object(m["i"])("div",Ol,[Object(m["i"])("div",jl,[Object(m["i"])("div",gl,[Object(m["n"])(l,{application:e},null,8,["application"])])])]),fl])])],8,rl),Object(m["i"])("button",{class:"btn btn-warning ms-1","data-bs-toggle":"modal","data-bs-target":"#evaluation_".concat(e.id)},yl,8,hl),Object(m["i"])("div",{class:"modal fade",id:"evaluation_".concat(e.id),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[Object(m["i"])("div",xl,[Object(m["i"])("div",_l,[Object(m["i"])("div",kl,[Object(m["i"])("h5",Ll,[Object(m["i"])("div",Sl,Object(w["L"])("".concat(e.applicant.data.first_name,"\n                              ").concat(e.applicant.data.middle_name,"\n                              ").concat(e.applicant.data.last_name)),1)]),Cl]),Object(m["i"])("div",Fl,[Object(m["i"])("div",Rl,[Object(m["i"])("div",Bl,[Object(m["n"])(d,{application:e},null,8,["application"])])])]),Al])])],8,wl)])])})),128))])])]),Object(m["i"])("div",El,[Object(m["i"])("nav",Ml,[Object(m["i"])("ul",Tl,[c.isFirstPage?Object(m["g"])("",!0):(Object(m["B"])(),Object(m["h"])("li",Dl,[Object(m["i"])("a",{class:Object(w["I"])(["page-link btn",i.paginationLoading?"disabled":""]),"aria-label":"Previous",onClick:t[0]||(t[0]=function(e){return c.fetchApplications(--i.pagination.currentPage)})},Ul,2)])),Object(m["i"])("li",Pl,[Object(m["i"])("a",Il,Object(w["L"])(i.pagination.currentPage)+"/"+Object(w["L"])(i.pagination.total_pages),1)]),c.isLastPage?Object(m["g"])("",!0):(Object(m["B"])(),Object(m["h"])("li",Vl,[Object(m["i"])("a",{class:Object(w["I"])(["page-link btn",i.paginationLoading?"disabled":""]),"aria-label":"Next",onClick:t[1]||(t[1]=function(e){return c.fetchApplications(++i.pagination.currentPage)})},ql,2)]))])])])])])):(Object(m["B"])(),Object(m["h"])("div",Gl,zl))}var Hl={class:""},Jl={class:"row"},Kl={class:"col"},Ql={class:"m-2 mt-4 p-2"},Xl=Object(m["i"])("h5",null,"Faculties picked",-1),Zl={key:0,class:"list-group"},ed={class:"row"},td={class:"col"},ad={class:"fw-bold"},nd={key:1,class:"mt-2"},id=Object(m["i"])("div",{class:"alert alert-warning border"}," No faculties assigned yet ",-1),cd=[id],sd={class:"col"},od={class:"m-2 mt-4 p-2"},rd={key:0,class:"list-group"},ld={class:"row"},dd={class:"col"},ud={class:"col"},bd={class:"col"},pd=["onClick"],md=Object(m["m"])(" Download "),Od=Object(m["i"])("i",{class:"fas fa-download"},null,-1),jd=[md,Od],gd={key:1},fd=Object(m["i"])("div",{class:"alert alert-warning border"}," No uploaded files yet ",-1),hd=[fd],vd={class:"row"},yd={class:"col"},wd={class:"card-body small"},xd=Object(m["i"])("h5",null,"First Essay",-1),_d={class:"border rounded p-2"},kd={class:"col"},Ld={class:"card-body small"},Sd=Object(m["i"])("h5",null," Second Essay ",-1),Cd={class:"border rounded p-2"};function Fd(e,t,a,i,c,s){return Object(m["B"])(),Object(m["h"])("div",Hl,[Object(m["i"])("div",Jl,[Object(m["i"])("div",Kl,[Object(m["i"])("div",Ql,[Xl,c.faculties.length>0?(Object(m["B"])(),Object(m["h"])("ul",Zl,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.faculties,(function(e){return Object(m["B"])(),Object(m["h"])("li",{key:e.id,class:"list-group-item"},[Object(m["i"])("div",ed,[Object(m["i"])("div",td,[Object(m["i"])("span",ad,Object(w["L"])(e.priority),1),Object(m["m"])(" "+Object(w["L"])(e.faculty.data.name),1)])])])})),128))])):(Object(m["B"])(),Object(m["h"])("div",nd,cd))])]),Object(m["i"])("div",sd,[Object(m["i"])("div",od,[Object(m["i"])("h5",null," Uploaded "+Object(w["L"])("".concat(c.files.length," ").concat(c.files.length>1||c.files.length?"files":"file")),1),c.files.length>0?(Object(m["B"])(),Object(m["h"])("ul",rd,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.files,(function(e){return Object(m["B"])(),Object(m["h"])("li",{class:"list-group-item",key:e.id},[Object(m["i"])("div",ld,[Object(m["i"])("div",dd,Object(w["L"])("".concat(e.filetype.data.name)),1),Object(m["i"])("div",ud,Object(w["L"])("".concat(e.file_name)),1),Object(m["i"])("div",bd,[Object(m["i"])("button",{class:"btn btn-primary mt-3",onClick:Object(n["c"])((function(t){return s.downloadFile(e.file_name)}),["prevent"])},jd,8,pd)])])])})),128))])):(Object(m["B"])(),Object(m["h"])("div",gd,hd))])])]),Object(m["i"])("div",vd,[Object(m["i"])("div",yd,[Object(m["i"])("div",wd,[xd,Object(m["i"])("p",_d,Object(w["L"])(c.essay.five_year_essay),1)])]),Object(m["i"])("div",kd,[Object(m["i"])("div",Ld,[Sd,Object(m["i"])("p",Cd,Object(w["L"])(c.essay.why_essay),1)])])])])}var Rd={name:"ApplicationView",props:{application:Object},data:function(){return{faculties:[],axiosConfig:p.state.config,files:[],essay:{}}},computed:{},methods:{downloadFile:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,b({url:"https://api-scholarship.limu.edu.ly/api/committeeboard/applications/".concat(t.application.id,"/files/").concat(e),method:"GET",responseType:"blob",headers:t.axiosConfig.headers}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",e),document.body.appendChild(n),n.click()})).catch((function(e){console.log(e.response)}));case 2:case"end":return a.stop()}}),a)})))()},fetchFiles:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("committeeboard/applications/".concat(e.application.id,"/files"),e.axiosConfig).then((function(t){e.files=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()},fetchEssays:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("committeeboard/applications/".concat(e.application.id,"/essay"),e.axiosConfig).then((function(t){e.essay=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFiles();case 2:return t.next=4,e.fetchEssays();case 4:e.faculties=e.application.applicationFaculties.data;case 5:case"end":return t.stop()}}),t)})))()}};const Bd=f()(Rd,[["render",Fd]]);var Ad=Bd,Ed={class:"row"},Md={class:"col"},Td={key:0,class:"m-2 mt-4 p-2"},Dd=Object(m["i"])("hr",null,null,-1),Nd={key:0,class:"list-group"},Ud={class:"row"},Pd={class:"col"},Id={class:"col"},Vd={class:"col"},Yd=["onClick"],qd=Object(m["m"])(" Download "),Gd=Object(m["i"])("i",{class:"fas fa-download"},null,-1),Wd=[qd,Gd],zd={key:1,class:"d-flex justify-content-center mt-5"},$d=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),Hd=[$d],Jd={class:"col"},Kd={key:0,class:"m-2 mt-4 p-3 border rounded shadow"},Qd=Object(m["i"])("h4",{class:"text-center mt-2"},"Evaluation Score",-1),Xd=Object(m["i"])("hr",null,null,-1),Zd={class:"row"},eu={class:"col"},tu={class:"mb-3"},au=Object(m["i"])("label",{class:"form-label"}," Age Score ",-1),nu={class:"col"},iu={class:"mb-3"},cu=Object(m["i"])("label",{class:"form-label"}," Income Score ",-1),su={class:"row"},ou={class:"col"},ru={class:"mb-3"},lu=Object(m["i"])("label",{class:"form-label"}," Year 9 Score ",-1),du={class:"col"},uu={class:"mb-3"},bu=Object(m["i"])("label",{class:"form-label"}," Year 10 Score ",-1),pu={class:"col"},mu={class:"mb-3"},Ou=Object(m["i"])("label",{class:"form-label"}," Year 11 Score ",-1),ju={class:"bg-light border m-0 mb-2 p-2 rounded row row-cols-md-auto"},gu=Object(m["i"])("div",{class:"col"}," Evaluation Estimate: ",-1),fu={class:"col"},hu={class:"row"},vu={class:"col"},yu={class:"text-center"},wu=["disabled"],xu=Object(m["i"])("div",{class:"form-text small"}," You can optionally assign all or individual scores as needed ",-1),_u=Object(m["i"])("hr",null,null,-1),ku={key:1,class:"d-flex justify-content-center mt-5"},Lu=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),Su=[Lu];function Cu(e,t,a,i,c,s){var o=Object(m["E"])("vee-field"),r=Object(m["E"])("error-message"),l=Object(m["E"])("vee-form");return Object(m["B"])(),Object(m["h"])("div",Ed,[Object(m["i"])("div",Md,[c.filesLoading?(Object(m["B"])(),Object(m["h"])("div",zd,Hd)):(Object(m["B"])(),Object(m["h"])("div",Td,[Object(m["i"])("h5",null," Uploaded "+Object(w["L"])("".concat(c.files.length," ").concat(c.files.length>1||0===c.files.length?"files":"file")),1),Dd,c.files.length>0?(Object(m["B"])(),Object(m["h"])("ul",Nd,[(Object(m["B"])(!0),Object(m["h"])(m["b"],null,Object(m["D"])(c.files,(function(e){return Object(m["B"])(),Object(m["h"])("li",{class:"list-group-item",key:e.id},[Object(m["i"])("div",Ud,[Object(m["i"])("div",Pd,Object(w["L"])("".concat(e.filetype.data.name)),1),Object(m["i"])("div",Id,Object(w["L"])("".concat(e.file_name)),1),Object(m["i"])("div",Vd,[Object(m["i"])("button",{class:"btn btn-primary mt-3",onClick:Object(n["c"])((function(t){return s.downloadFile(e.file_name)}),["prevent"])},Wd,8,Yd)])])])})),128))])):Object(m["g"])("",!0)]))]),Object(m["i"])("div",Jd,[c.scoresLoading?(Object(m["B"])(),Object(m["h"])("div",ku,Su)):(Object(m["B"])(),Object(m["h"])("div",Kd,[Qd,Xd,Object(m["n"])(l,{"validation-schema":c.schema,onSubmit:s.evaluateApplication},{default:Object(m["N"])((function(){return[Object(m["i"])("div",Zd,[Object(m["i"])("div",eu,[Object(m["i"])("div",tu,[au,Object(m["n"])(o,{type:"number",name:"age_score",min:"0",max:"5",value:c.scores.age_score,class:"form-control",placeholder:"Assign Score"},null,8,["value"]),Object(m["n"])(r,{class:"text-danger small",name:"age_score"})])]),Object(m["i"])("div",nu,[Object(m["i"])("div",iu,[cu,Object(m["n"])(o,{type:"number",name:"income_score",min:"0",max:"5",value:c.scores.income_score,class:"form-control",placeholder:"Assign Score"},null,8,["value"]),Object(m["n"])(r,{class:"text-danger small",name:"income_score"})])]),Object(m["i"])("div",su,[Object(m["i"])("div",ou,[Object(m["i"])("div",ru,[lu,Object(m["n"])(o,{type:"number",name:"year9_score",min:"0",max:"5",value:c.scores.year9_score,class:"form-control",placeholder:"Assign Score"},null,8,["value"]),Object(m["n"])(r,{class:"text-danger small",name:"year9_score"})])]),Object(m["i"])("div",du,[Object(m["i"])("div",uu,[bu,Object(m["n"])(o,{type:"number",name:"year10_score",min:"0",max:"5",value:c.scores.year10_score,class:"form-control",placeholder:"Assign Score"},null,8,["value"]),Object(m["n"])(r,{class:"text-danger small",name:"year10_score"})])]),Object(m["i"])("div",pu,[Object(m["i"])("div",mu,[Ou,Object(m["n"])(o,{type:"number",name:"year11_score",min:"0",max:"5",value:c.scores.year11_score,class:"form-control",placeholder:"Assign Score"},null,8,["value"]),Object(m["n"])(r,{class:"text-danger small",name:"year11_score"})])])]),Object(m["i"])("div",ju,[gu,Object(m["i"])("div",fu,Object(w["L"])("".concat(c.scores.level1_score,"%")),1)])]),Object(m["i"])("div",hu,[Object(m["i"])("div",vu,[Object(m["i"])("div",yu,[Object(m["i"])("button",{class:"btn btn-primary col-md-4",disabled:c.saveLoading}," Save ",8,wu),xu,_u,""!==c.saveMsg?(Object(m["B"])(),Object(m["h"])("div",{key:0,class:Object(w["I"])(["alert ".concat(c.saveMsgClass),"mt-2"])},Object(w["L"])(c.saveMsg),3)):Object(m["g"])("",!0)])])])]})),_:1},8,["validation-schema","onSubmit"])]))])])}var Fu={name:"ApplicationEvaluation",props:{application:Object},data:function(){return{scoresLoading:!0,saveLoading:!1,filesLoading:!0,axiosConfig:p.state.config,files:[],essay:{},scores:{},saveMsgClass:"",saveMsg:"",schema:{age_score:"min_value:0|max_value:5",income_score:"min_value:0|max_value:5",year9_score:"min_value:0|max_value:5",year10_score:"min_value:0|max_value:5",year11_score:"min_value:0|max_value:5"}}},methods:{downloadFile:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,b({url:"https://api-scholarship.limu.edu.ly/api/committeeboard/applications/".concat(t.application.id,"/files/").concat(e),method:"GET",responseType:"blob",headers:t.axiosConfig.headers}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",e),document.body.appendChild(n),n.click()})).catch((function(e){console.log(e.response)}));case 2:case"end":return a.stop()}}),a)})))()},fetchFiles:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("committeeboard/applications/".concat(e.application.id,"/files"),e.axiosConfig).then((function(t){e.filesLoading=!1,e.files=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()},fetchScores:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.scoresLoading=!0,a={application_id:e.application.id},t.next=4,b.post("committeeboard/applications/scores",a,e.axiosConfig).then((function(t){e.scoresLoading=!1,e.scores=t.data.data[0]})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)})))()},evaluateApplication:function(e){var t=this;this.saveLoading=!0,b.put("committeeboard/applications/".concat(this.application.id,"/scores"),e,this.axiosConfig).then((function(){t.saveMsgClass="alert-success",t.saveMsg="Saved successfully",t.saveLoading=!1})).catch((function(e){console.log(e.response),t.saveMsgClass="alert-danger",t.saveMsg="Error, make sure to enter valid data",t.saveLoading=!1}))}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFiles();case 2:return t.next=4,e.fetchScores();case 4:case"end":return t.stop()}}),t)})))()}};const Ru=f()(Fu,[["render",Cu]]);var Bu=Ru,Au={key:0,class:"border rounded m-auto text-center bg-light fw-bold p-2"},Eu={key:1,class:"text-center"},Mu=Object(m["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(m["i"])("span",{class:"visually-hidden"},"Loading...")],-1),Tu=[Mu];function Du(e,t,a,n,i,c){return i.scoresLoading?(Object(m["B"])(),Object(m["h"])("div",Eu,Tu)):(Object(m["B"])(),Object(m["h"])("div",Au,Object(w["L"])("".concat(i.scores.level1_score,"%")),1))}var Nu={name:"EvaluationScore",props:{application:Object},data:function(){return{scores:{},axiosConfig:p.state.config,scoresLoading:!0}},methods:{fetchScores:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.scoresLoading=!0,a={application_id:e.application.id},t.next=4,b.post("committeeboard/applications/scores",a,e.axiosConfig).then((function(t){e.scoresLoading=!1,e.scores=t.data.data[0]})).catch((function(e){console.log(e.response)}));case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchScores();case 2:case"end":return t.stop()}}),t)})))()}};const Uu=f()(Nu,[["render",Du]]);var Pu=Uu,Iu={name:"CommitteDashboard",components:{ApplicationView:Ad,ApplicationEvaluation:Bu,EvaluationScore:Pu},data:function(){return{applicant:Object,applicationFaculties:[],paginationLoading:!1,applicationOpened:!1,filters:Object,dashFinishedLoading:!1,axiosConfig:p.state.config,applications:[],countries:[],statuses:[],pagination:{count:0,total:0,perPage:12,currentPage:1,total_pages:1,links:[]},initialValues:{country_id:0,status_id:0}}},computed:{isFirstPage:function(){return 1===this.pagination.currentPage},isLastPage:function(){return this.pagination.currentPage===this.pagination.total_pages}},methods:{fetchApplications:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.paginationLoading=!0,a.next=3,b.post("committeeboard/applications?page=".concat(e<1?1:e),t.filters,t.axiosConfig).then((function(e){t.paginationLoading=!1,t.dashFinishedLoading=!0;var a=e.data.meta.pagination;t.applications=e.data.data,t.pagination.count=a.count,t.pagination.total=a.total,t.pagination.perPage=a.per_page,t.pagination.currentPage=a.current_page,t.pagination.total_pages=a.total_pages,t.pagination.links=a.links})).catch((function(){t.dashFinishedLoading=!0,t.paginationLoading=!1}));case 3:case"end":return a.stop()}}),a)})))()},fetchWithFilter:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.filters={country_id:0===Number(e.country_id)?null:e.country_id,status_id:0===Number(e.status_id)?null:e.status_id,applicant_id:0===Number(e.applicant_id)?null:e.applicant_id},a.next=3,t.fetchApplications(1,t.filters);case 3:case"end":return a.stop()}}),a)})))()},fetchCountries:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("committeeboard/countries",e.axiosConfig).then((function(t){e.countries=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()},fetchApplicationStatuses:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("committeeboard/application_statuses",e.axiosConfig).then((function(t){e.statuses=t.data.data}));case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchCountries();case 2:return t.next=4,e.fetchApplicationStatuses();case 4:return t.next=6,e.fetchApplications();case 6:case"end":return t.stop()}}),t)})))()}};const Vu=f()(Iu,[["render",$l]]);var Yu=Vu,qu={class:"navbar navbar-expand-lg navbar-light nav_blue_gradient p-3"},Gu={class:"container"},Wu=Object(m["i"])("a",{class:"navbar-brand text-white"},[Object(m["i"])("img",{src:oe.a,alt:"",width:"60",height:"34",class:"img-thumbnail"}),Object(m["m"])(" LIMU Scholarship ")],-1),zu=Object(m["i"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(m["i"])("span",{class:"navbar-toggler-icon"})],-1),$u={class:"collapse navbar-collapse",id:"navbarSupportedContent"},Hu=Object(m["i"])("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0"},[Object(m["i"])("li",{class:"nav-item dropdown"},[Object(m["i"])("a",{href:"",class:"nav-link text-white"},"Dashboard")])],-1),Ju={class:"navbar-nav ms-auto mb-2 mb-lg-0"},Ku={class:"nav-item dropdown"},Qu={class:"nav-link dropdown-toggle text-white small",href:"",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Xu={class:"dropdown-menu"};function Zu(e,t,a,n,i,c){return Object(m["B"])(),Object(m["h"])("nav",qu,[Object(m["i"])("div",Gu,[Wu,zu,Object(m["i"])("div",$u,[Hu,Object(m["i"])("ul",Ju,[Object(m["i"])("li",Ku,[Object(m["i"])("a",Qu,Object(w["L"])(i.admin.name),1),Object(m["i"])("ul",Xu,[Object(m["i"])("li",null,[Object(m["i"])("a",{class:"dropdown-item btn",onClick:t[0]||(t[0]=function(){return c.logout&&c.logout.apply(c,arguments)})},"Logout")])])])])])])])}var eb={name:"AdminNavbar",data:function(){return{admin:p.state.user}},computed:Object(ce["a"])({},Object(r["b"])(["configGetter"])),methods:{logout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.get("authboard/logout",e.configGetter).then((function(e){console.log(e),p.dispatch("logout").then((function(){return Zb.push({name:"login"})}))})).catch((function(e){return console.log(e.response)}));case 2:case"end":return t.stop()}}),t)})))()}}};const tb=f()(eb,[["render",Zu]]);var ab=tb,nb={name:"Dashboard",user:p.state.user,components:{Navbar:xe,Applicant:Nn,VerifyEmail:hr,AdminDashboard:ir,AdminNavbar:Er,CommitteDashboard:Yu,CommitteNavbar:ab},data:function(){return{user:p.state.user,emailVerified:p.state.emailVerified}},computed:Object(ce["a"])(Object(ce["a"])({},Object(r["b"])(["configGetter"])),{},{isAdmin:function(){return"admin"===p.state.role},isUser:function(){return"User"===p.state.role},isCommitte:function(){return"committee"===p.state.role}}),beforeRouteEnter:function(e,t,a){p.state.authenticated?a():a({name:""})}};const ib=f()(nb,[["render",an]]);var cb=ib,sb={class:"container mt-5 mb-4"},ob={class:"card-body bg-white border rounded"},rb=Object(m["i"])("h5",null,"All Applicants",-1),lb=Object(m["i"])("hr",null,null,-1),db={class:"table"},ub=Object(m["i"])("thead",null,[Object(m["i"])("tr",null,[Object(m["i"])("th",{scope:"col"},"#"),Object(m["i"])("th",{scope:"col"},"Name"),Object(m["i"])("th",{scope:"col"},"Email"),Object(m["i"])("th",{scope:"col"},"Date"),Object(m["i"])("th",{scope:"col",class:"text-center"},"Options")])],-1),bb={scope:"row"},pb=Object(m["i"])("td",null,"Muhammed Elmahdi",-1),mb=Object(m["i"])("td",null,"mo@gmail.com",-1),Ob=Object(m["i"])("td",null,"2021/2/21",-1),jb=Object(m["i"])("td",{class:"text-center"},[Object(m["i"])("div",{class:"btn-group"},[Object(m["i"])("button",{type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"}),Object(m["i"])("ul",{class:"dropdown-menu"},[Object(m["i"])("li",null,[Object(m["i"])("a",{class:"dropdown-item",href:"#"},"View Application")]),Object(m["i"])("li",null,[Object(m["i"])("hr",{class:"dropdown-divider"})]),Object(m["i"])("li",null,[Object(m["i"])("a",{class:"dropdown-item text-success",href:"#"},"Shortlist Applicant")]),Object(m["i"])("li",null,[Object(m["i"])("hr",{class:"dropdown-divider"})]),Object(m["i"])("li",null,[Object(m["i"])("a",{class:"dropdown-item text-danger",href:"#"},"Delete")])])])],-1),gb=Object(m["l"])('<div class="mt-3"><nav aria-label="Page navigation example"><ul class="pagination"><li class="page-item"><a class="page-link" href="#" aria-label="Previous"><span aria-hidden="true"></span></a></li><li class="page-item"><a class="page-link" href="#">1</a></li><li class="page-item"><a class="page-link" href="#">2</a></li><li class="page-item"><a class="page-link" href="#">3</a></li><li class="page-item"><a class="page-link" href="#" aria-label="Next"><span aria-hidden="true"></span></a></li></ul></nav></div>',1);function fb(e,t,a,n,i,c){var s=Object(m["E"])("admin-navbar");return Object(m["B"])(),Object(m["h"])(m["b"],null,[Object(m["n"])(s),Object(m["i"])("div",sb,[Object(m["i"])("div",ob,[rb,lb,Object(m["i"])("table",db,[ub,Object(m["i"])("tbody",null,[(Object(m["B"])(),Object(m["h"])(m["b"],null,Object(m["D"])(10,(function(e){return Object(m["i"])("tr",{key:e},[Object(m["i"])("th",bb,Object(w["L"])(e),1),pb,mb,Ob,jb])})),64))])])]),gb])],64)}var hb={name:"AdminDashboard",components:{AdminNavbar:Er}};const vb=f()(hb,[["render",fb]]);var yb=vb,wb={class:"alert alert-warning p-3 border rounded m-5 text-center"},xb=Object(m["i"])("h3",null,"404",-1),_b=Object(m["i"])("h4",null,"Not Found",-1),kb=[xb,_b];function Lb(e,t,a,n,i,c){return Object(m["B"])(),Object(m["h"])("div",wb,kb)}var Sb={name:"NotFound"};const Cb=f()(Sb,[["render",Lb]]);var Fb=Cb,Rb={class:"m-5 p-3 bg-white border"},Bb=Object(m["i"])("img",{src:_.a,class:"rounded mx-auto d-block img-fluid mb-3 col-lg-6 col-md-7 col-sm-7"},null,-1),Ab={class:"card-body"},Eb=Object(m["i"])("div",{class:"card-body"},[Object(m["i"])("h2",{class:"text-center fw-bold"},"Scholarship Portal")],-1),Mb={class:"mb-3"},Tb={class:"alert alert-success border p-3 mt-3"},Db={class:"text-center"},Nb=Object(m["m"])("Your email has been verified successfully "),Ub=Object(m["m"])("Login?"),Pb=Object(m["i"])("p",{class:"text-center"}," Thanks for verifying your email address, you can now continue with your application registration proccess. ",-1);function Ib(e,t){var a=Object(m["E"])("router-link");return Object(m["B"])(),Object(m["h"])("div",Rb,[Bb,Object(m["i"])("div",Ab,[Eb,Object(m["i"])("div",Mb,[Object(m["i"])("div",Tb,[Object(m["i"])("h4",Db,[Nb,Object(m["n"])(a,{to:"/"},{default:Object(m["N"])((function(){return[Ub]})),_:1})]),Pb])])])])}const Vb={},Yb=f()(Vb,[["render",Ib]]);var qb=Yb,Gb={class:"m-5 p-3 bg-white border"},Wb=Object(m["l"])('<img src="'+_.a+'" class="rounded mx-auto d-block img-fluid mb-3 col-lg-6 col-md-7 col-sm-7"><div class="card-body"><div class="card-body"><h2 class="text-center fw-bold">Scholarship Portal</h2></div><div class="mb-3"><div class="alert alert-warning border p-3 mt-3"><p class="text-center"> We&#39;ve finished taking applications for this year&#39;s scholarship. Check back some other time. </p></div></div></div>',2),zb=[Wb];function $b(e,t){return Object(m["B"])(),Object(m["h"])("div",Gb,zb)}const Hb={},Jb=f()(Hb,[["render",$b]]);var Kb=Jb,Qb=[{path:"/",name:"login",component:$},{path:"/dashboard",name:"dashboard",component:cb},{path:"/applicant-form",name:"applicantForm",component:$a},{path:"/email-verified",name:"emailVerified",component:qb},{path:"/admin-dashboard",name:"adminDashboard",component:yb},{path:"/closed",name:"closed",component:Kb},{path:"/:pathMatch(.*)*",name:"NotFound",component:Fb}],Xb=Object(y["a"])({history:Object(y["b"])("/"),routes:Qb}),Zb=Xb,ep=a("7bb1"),tp=a("3aa8"),ap={install:function(e){e.component("vee-form",ep["c"]),e.component("vee-field",ep["b"]),e.component("error-message",ep["a"]),Object(ep["e"])("size",tp["k"]),Object(ep["e"])("mimes",tp["f"]),Object(ep["e"])("required",tp["j"]),Object(ep["e"])("user_agreement",tp["j"]),Object(ep["e"])("min",tp["g"]),Object(ep["e"])("max",tp["d"]),Object(ep["e"])("min_value",tp["h"]),Object(ep["e"])("max_value",tp["e"]),Object(ep["e"])("alpha_spaces",tp["a"]),Object(ep["e"])("email",tp["c"]),Object(ep["e"])("not_one_of",tp["i"]),Object(ep["e"])("password_mismatch",tp["b"]),Object(ep["d"])({generateMessage:function(e){var t={required:"The field is required",min:"The field is too short",max:"The field is too long",alpha_spaces:"The field may only contain alphabetical characters and spaces",email:"The field must be a valid email",min_value:"The field is too low",max_value:"The field is too high",not_one_of:"This country is currently not supported",user_agreement:"You must agree upon the terms of service of this app",password_mismatch:"Passwords do not match",mimes:"Invalid file type",size:"File size should not exceed 2MB"},a=t[e.rule.name]?t[e.rule.name]:"The field ".concat(e.field," is invalid");return a}})}};a("1a36"),a("15f5"),a("7051"),a("ab8b"),a("7b17"),a("4413");function np(){var e=Object(n["a"])(v);e.use(p),e.use(Zb),e.use(ap),e.use(i["a"],b),e.use(s.a),e.mount("#app")}null!=localStorage.getItem("IS-token")?p.dispatch("restoreSession").then((function(){np()})):np()},"901b":function(e,t,a){e.exports=a.p+"img/limu_logo.9f4f9e32.png"},fd33:function(e,t,a){e.exports=a.p+"img/small_logo.daf784c8.png"}});
//# sourceMappingURL=app.d2eee600.js.map